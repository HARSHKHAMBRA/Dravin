<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <meta name="description" content="Interdialog web console" />

    <title>WebConsole - </title>
    <link rel="stylesheet" href="/Content/bootstrap.css?v=22010136" />
    <link rel="stylesheet" href="/Content/font-awesome-4.7.0/css/font-awesome.min.css" />
    <link href="/Content/bootstrap-glyphicons.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/Content/WebConsoleSidebar.min.css">
    <link rel="stylesheet" href="/Content/Icon.css" />
    <link rel="shortcut icon" type="image/x-icon" href="/Content/img/favicon.ico">
    
<link href="/content/web/kendo.common.min.css" rel="stylesheet" /><link href="/content/web/kendo.rtl.min.css" rel="stylesheet" /><link href="/content/web/kendo.default.min.css" rel="stylesheet" /><link href="/content/web/kendo.default.mobile.min.css" rel="stylesheet" />
    <link href="/Content/jquery.gridster.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/Content/Site.css" />
    <link rel="stylesheet" href="/Content/skin-blue.min.css">
    
    <link href="/Content/WebAgent/jquery-ui.css" rel="stylesheet" />


    <style>
        .logo-mini1 {
            background-image: url('../../Content/Images/minilogo.png');
        }
    </style>
    <style>
        .fixedzero {
            width: 100%;
            position: fixed;
            top: 0;
        }

        .navbar-fixed-bottom {
            position: fixed;
            bottom: 0;
            width: 100%;
            padding-right:18%;
        }

        .addclasswithIEBrowser {
            margin-bottom: -7px;
            width: 100%
        }

        .addclasswithOtherBrowser {
            margin-bottom: -7px;
            margin-top: -9px;
            width: 100%
        }
    </style>

        <script src="/Scripts/jquery-3.5.1.min.js"></script>
        <script src="/Scripts/jszip.min.js"></script>
        <script src="/Scripts/kendo.all.min.js"></script>
        <script src="/Scripts/kendo.aspnetmvc.min.js"></script>
        <script src="/Scripts/kendo.timezones.min.js"></script>


    <script>

        window.appdata = {
            rootUrl: 'http://192.168.100.18:9001/',
            tk: 'OKuISzhDvxkTSE4vZH9U2j2RCrJZYGSyOwzvFiWB6y10fXQlpErGyHG07ijdWB6jwyXS7xiLfD8IXQ-Vh1AmJL3AJRT9omRYck5qn9zx75w1:ALtoNXji1ZO7alPZpCO6dCCG_9Ts2uM2o55WxTFdd9stQ4v9APrbw52s3cSu9cPlE8d5eWxjMHNp2o2QQRld0_Y295OhIQ_9qN9_HyHq5RM1',
            filter: 'batch',
            ip: '192.168.100.1',
            id: '2',
            role: '1',
            username: 'Teckinfo Default',
            contactId:'0',
            queryString: '',
            galaxyapiurl: '',
            token : 'ce469a43-f8f9-4bff-b4d5-149071d09d6e',
            permission: {
                Add:2,
                Delete: 8,
                AddMaster:128,
                Export:16,
                Edit:4,
                Admin:32,
                MultiEdit:256,
                Event:512,
                Import:1024,
                Print:64,
                ViewTemplate:32768,
                SaveTemplate:16384,
            }
        };
        window.gridid = "";
        window.gridFilterData = {};
        window.gridSearchData = {};
        var itemsContext=[];
        String.prototype.replaceAll = function (search, replacement) {
            var target = this;
            return target.split(search).join(replacement);
        };

        window.path='/_batch/_list/grid';
        window.kendoTheme = "default";
        window.kendoCommonFile = 'common';
        var RelatedToId = 0;
        var RelatedTo = "";
        var RelatedToName = "";
        var myObject = [];
        var finalObject = [];
        var ViewChangeFlag = false;
        var actionPermission = 0;
        var BreadCrumbURL = "";
        var gridmodel = {};
        var gridcolumns = [];
        var CTIAgentsList = undefined;
        var SupervisorTerminalId = "";
        var x = [];
        var IntegrationPanel = "N";
        var dashboardCount = 0;
        var breadPreviewCall = '';
        function dashletName(id, title, isheader) {
            if (isheader == "Y")
                $("#header" + id).show();

            $("#dash" + id).attr("title",title);
            var sizeX = $("#li" + id).attr('data-sizex');
            if (sizeX * 9 < title.length)
                title = title.substring(0, sizeX * 9) + "...";

            $("#dash" + id).html(title);

        }
        function dashletIconShowHide(id, type, Related) {
            if (type == "Y" && Related.toLowerCase()==="dashboard")
                $('#setting'+id).show();
            notificationMethod('id ' + id + 'Type ' + type, undefined, false);
            //console.log('id ' + id + 'Type ' + type);
        }
        function showheaders(relatedTo, dashid, configID)
        {
            if (relatedTo == 'Dashboard')
                $('#header' + dashid+configID).show();

        }


    </script>

    <script>
        var clientdt = new Date();
        function IEdetectionBrowser() {
            var ua = window.navigator.userAgent;
            var msie = ua.indexOf('MSIE ');
            var trident = ua.indexOf('Trident/');
            if (msie > 0) {
                // IE 10 or older, return version number
                $("#AddandRemoveClass").addClass("addclasswithIEBrowser");
                $(".icha0").css({ 'border-left': '' });
                $("#icha1").css({ 'padding-top': '', 'padding-bottom': '' })
            }
            else if (trident > 0) {
                // IE 11, return version number
                $("#AddandRemoveClass").addClass("addclasswithIEBrowser");
                $(".icha0").css({ 'border-left': '' });
                $("#icha1").css({ 'padding-top': '', 'padding-bottom': '' })
            }
            else {
                $("#AddandRemoveClass").addClass("addclasswithOtherBrowser");
                $(".icha0").css({ 'border-left': '1px solid white' });
            }
        }
    </script>
    <script>
        $(document).ready(function () {
            IEdetectionBrowser();
        });
    </script>

    <script src="/Scripts/theme-chooser.js?v=10"></script>
</head>
<body class="hold-transition skin-blue sidebar-mini ">
    <div class="k-content">
        <div class="k-loading-mask" id="wait" style="width:100%;height:100%;display:block;z-index:100000!important;">
            <span class="k-loading-text">Please wait loading...</span>
            <div class="k-loading-image">
                <div class="k-loading-color"></div>
            </div>
        </div>
    </div>

    <div class="wrapper " id="divbody" style="display:none">
        <header class="main-header " data-position="fixed">
            <a href="/" class="logo">
                <img class="logo-mini" src="/Content/Images/In1.png" style="width:50px;height:50px;" />
                
                <span class="logo-lg"><img src="/Content/Images/In1.png" style="width:50px;height:50px;" />WebConsole</span>
                
            </a>
            <input type="hidden" id="hdnPreUrl" />
            <input type="hidden" id="hdnPostUrl" />
            <nav class="navbar  navbar-static-top" role="navigation">
                <div class="row" id="AddandRemoveClass">
                    <div class="col-12 col-sm-1 tspl-text-center-or-left" style="padding:0px 0px;">
                        <a href="#" style="padding:0px;" class="sidebar-toggle sidebarWebAgent" data-toggle="offcanvas" role="button">
                            <span class="sr-only"><b style="">CTI</b>&nbsp;Manager</span>
                        </a>
                    </div>
                    


<div class="col-12 col-sm-6" style="padding:0px 0px;">
        <div class="input-group" id="adv-search" style="margin:0px 0px;">
            <input type="text" id="GlobalSearchtxt" style="height:32.5px" name="GlobalSearchtxt" class="form-control" placeholder="Search " value="" autocomplete="off" />
            <div class="input-group-btn">
                <div class="btn-group" role="group">
                    <div class="dropdown dropdown-lg">
                        <button type="button" class="btn btn-light SavedSearch" data-toggle="dropdown" aria-expanded="false"><span class="fa fa-star"></span></button>
                        <button type="button" class="btn btn-light setsearchval dropdown-toggle" id="setsearchval" data-toggle="dropdown" aria-expanded="false"><span class="caret"></span></button>
                        <button type="button" class="btn btn-light dropdown-toggle" data-toggle="dropdown" aria-expanded="false" id="HideSearchForm" style="display:none"><span class="caret"></span></button>
                        <div class="dropdown-menu dropdown-menu-right k-content" role="menu">
<form action="/_Search/_list/cardview" class="form-horizontal" id="SearchForm" method="post">                                <div class="form-horizontal  AadvancedSearch">
                                    <input type="hidden" id="hdnselectedCat" name="hdnselectedCat" value="all" />
                                    <div class="form-group row">
                                        <div class="col-md-2 col-xs-2 col-sm-2">
                                            <label for="selectedCat" class="col-2 col-form-label" style="margin-top:21%;">Search</label>
                                        </div>
                                        <div class="col-md-6 col-xs-6 col-sm-6">
                                            <input id="selectedCat" placeholder="Select ..." style="width: 99%;" />

                                        </div>
                                    </div>
                                    <hr style="margin-top:1%;margin-bottom:1%; box-shadow: 0 0 2px .2px;" />
                                    <div class="ShowHideSearchList" style="display:block;height:100px;overflow-y:hidden;">
                                    </div>
                                    <hr style="margin-top:1%;margin-bottom:1%; box-shadow: 0 0 2px .2px;" />
                                    <div id="GlobalSearch" style="margin-left:0px; margin-top:5%;overflow-y:auto;height:auto; max-height:300px;">
                                    </div>
                                    <div class="row" style="margin-top:1%;display:none" id="extraRow">
                                        <hr style="margin-top:5%;margin-bottom:3%; box-shadow: 0 0 2px .2px;" />
                                        <div class="row">
                                            <div class="col-lg-5">
                                                <input id="ddlSearchList" />
                                            </div>
                                            <div class="col-lg-5">
                                                <input id="DynamicTextField" class="k-textbox" style="float:right;" type="text" autocomplete="off" containIn="Form" FilterType="text" ApiUrl="" value="" />
                                            </div>
                                            <div class="col-lg-1">
                                                <span class="custom-i k-mi-add" style="float: right;
                                                        font-size: 32px;
                                                        color: green;
                                                        vertical-align: middle;
                                                        margin-top: -6px;" id="AddInForm">
                                                </span>
                                            </div>
                                        </div>
                                        <hr style="margin-top:5%;margin-bottom:3%; box-shadow: 0 0 2px .2px;" />
                                    </div>


                                    <button type="button" id="btnsearch" style="margin-top:1%;margin-left:4%" class="btn k-primary AnotherSearchSubmit">
                                        <span class="AnotherSearchSubmit fa fa-search" aria-hidden="true">
                                        </span>
                                    </button>
                                </div>
                                <div class="searchFormData">
                                </div>
</form>                            <form action="/_Home/_list" id="SetFvrtSearch" method="post">                                <div class="form-horizontal">
                                    <h4>Save Search</h4>
                                        <div class="form-group row" id="toSaveSearch">
                                            <div class="col-md-6">
                                                <label style="margin-left:4%" for="contain"> </label>
                                                <input type="text" class="k-textbox" id="AdvanceSearchName"
                                                       name="AdvanceSearchName"
                                                       placeholder="Name"
                                                       onchange=""
                                                       required="required"
                                                       
                                                       data-Old-Value='' data-name='AdvanceSearchName'
                                                       data-GroupName="search" data-FieldName='Search Name' />
                                            </div>
                                            <div class="col-md-6" style="margin-top:25px">
                                                <button id="btnsavefavsearch" class="k-button" style="float:right; margin-right:20%;">
                                                    Save
                                                </button>
                                            </div>
                                        </div>

                                    <div class="form-group" style="display:none;">
                                        <label style="margin-left:4%" for="contain">Value: </label>
                                        <input type="text" id="AdvanceSearchValue" name="AdvanceSearchValue" required />
                                    </div>

                                    <hr style="margin-top:4%;margin-bottom:1%; box-shadow: 0 0 2px .2px;" />
                                    
                                    <div class="ShowHideSearchList" style="display:block;margin-top:2%;overflow-y:hidden;height:200px;">

                                    </div>
                                </div>
</form>                        </div>
                    </div>
                    <button id="AnotherSearchSubmit" class="AnotherSearchSubmit btn k-primary">
                        <span class="fa fa-search" aria-hidden="true">
                        </span>
                    </button>

                </div>
            </div>
        </div>
        <script src="/Scripts/search.js?v=10"></script>
</div>

<input type="hidden" id="searchPermission" name="searchPermission" value="27" />
<input type="hidden" id="FilterJSON" name="FilterJSON" value="" />

<style>
    .ShowHideSearchList:hover {
        overflow-y: auto !important;
    }

    .ShowHideSearchList li a:focus {
        color: springgreen;
    }
</style>


                    <div class="col-12 col-sm-5 tspl-text-center-or-left" style="padding:0px 0px;">
                        <div class="row">
                            <div class="col" style="margin-left:50px">
                                <ul class="list-inline align-items-center" style="margin: 5px 0px;">
                                    <!-- Notifications And Internal Chat Menu -->
                                        <li class="dropdown notifications-menu list-inline-item" id="internalChatMenu">
                                            <a href="#control-sidebar-bell-tab" id="Notification" data-toggle="control-sidebar" title="Chat">
                                                <i style="color:white" class="fa fa-comment-o"></i>
                                                <span class="label label-warning"></span>
                                            </a>
                                        </li>
                                                                        <li style="margin-left:20px;line-height:normal" class="dropdown user user-menu list-inline-item">
                                        <a href="#" data-toggle="dropdown" id="icha1" style="padding-top: 10px;padding-bottom: 10px;">
                                                <div id="profileImage1" class="cticircle sm" style="padding-top:1.4px;"></div>
                                        </a>
                                        <ul class="dropdown-menu" style="width:300px;padding:0px;height:193px;margin-left:-100px">
                                            <li class="user-header" style="height:139px">
                                                    <div id="profileImage" class="cticircle lg" style="height:65px"></div>
                                                <p style="text-align:center;color:rgba(255,255,255,0.8)">
Teckinfo Default <br />
TSPL                                                    <br />
                                                    <small style="text-align:center;color:rgba(255,255,255,0.8)">Last Login Time :21 Dec 2024 06:15 PM </small>

                                                </p>
                                            </li>
                                            <!-- Menu Footer-->
                                            <div class="card-footer">
                                                <div class="btn-group">
                                                    <a href="/_home/_edit/_tab/1" class="btn btn-outline-dark btnpadding menuajax" data-ajax="C" style="border-radius:.25rem;">Profile</a>
                                                    &nbsp;
                                                    <a href='/changepassword' class="btn btn-outline-dark btnpadding menuajax" data-ajax="C" style="border-radius:.25rem;">Change Password</a>
                                                    &nbsp;
                                                    <a href='/SignOut' class="btn btn-outline-dark btnpadding signout" style="border-radius:.25rem;">Sign Out</a>
                                                </div>
                                            </div>
                                        </ul>
                                        
                                    </li>

                                    <li style="margin-left:20px" class="dropdown notifications-menu list-inline-item" title="Setting" style="display: ">
                                        <a href="#" id="setting" data-toggle="control-sidebar"><i style="color:white" class="fa fa-gears"></i></a>
                                    </li>
                                </ul>
                            </div>
                            <div class="col icha0" style="text-align:right;margin: auto 0px;">
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </header>
        <div>
            <aside class="main-sidebar">
                <section class="sidebar">
                    

<script>
    var favlist =[];

</script>
<style>
    .menuhide {
        display: inline;
        top: 30%;
        position: absolute;
        margin-left: 22px;
    }
    .addmargin {
        margin-top: 51px;
    }
    .submenu {
    }
</style>
<div class="k-content">
        <ul id="menu">
                <li>
                    <a href="#">
                        <i class="i-c i-c-14x14" title="New" style="background-color:green !important"><p class="i-c-add"></p> </i>
                        <span class="menuhide">New</span>
                    </a>
                    <ul>
                                <li>
                                    <a href="/_service/_create" class="menuajax" data-ajax="C" data-menu="Y" data-name="Services">
                                        <div style="overflow:hidden" class="submenu"><p class="i-c-service"></p> </div>
                                        <span>Services</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="/_group/_create" class="menuajax" data-ajax="C" data-menu="Y" data-name="Groups">
                                        <div style="overflow:hidden" class="submenu"><p class="i-c-group"></p> </div>
                                        <span>Groups</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="/_batch/_create" class="menuajax" data-ajax="C" data-menu="Y" data-name="Batch">
                                        <div style="overflow:hidden" class="submenu"><p class="i-c-batch"></p> </div>
                                        <span>Batch</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="/_agent/_create" class="menuajax" data-ajax="C" data-menu="Y" data-name="Agents">
                                        <div style="overflow:hidden" class="submenu"><p class="i-c-agent"></p> </div>
                                        <span>Agents</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="/_role/_create" class="menuajax" data-ajax="C" data-menu="Y" data-name="Roles">
                                        <div style="overflow:hidden" class="submenu"><p class="i-c-role"></p> </div>
                                        <span>Roles</span>
                                    </a>
                                </li>
                    </ul>
                </li>
                                <li>
                        <a href="/_service/_list" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Services">
                            <div class="i-c i-c-14x14" title="Services"><p class="i-c-service"></p> </div>
                            <span class="menuhide">Services</span>
                        </a>
                    </li>
                    <li>
                        <a href="/_serviceconsole/_list/console" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Service Console">
                            <div class="i-c i-c-14x14" title="Service Console"><p class="i-c-service"></p> </div>
                            <span class="menuhide">Service Console</span>
                        </a>
                    </li>
                    <li>
                        <a href="/_agent/_list" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Agents">
                            <div class="i-c i-c-14x14" title="Agents"><p class="i-c-agent"></p> </div>
                            <span class="menuhide">Agents</span>
                        </a>
                    </li>
                    <li>
                        <a href="/_agentconsole/_list/console" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Agent Console">
                            <div class="i-c i-c-14x14" title="Agent Console"><p class="i-c-agent"></p> </div>
                            <span class="menuhide">Agent Console</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Leads">
                            <div class="i-c i-c-14x14" title="Leads"><p class="i-c-1004"></p> </div>
                            <span class="menuhide">Leads</span>
                                <span class="pull-right-container">
                                    <span class="label label-primary pull-right"></span>
                                </span>
                        </a>
                            <ul>
                                    <li>
                                        <a href="/_leadtemplate/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="LeadTemplate">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-leadtemplate"></p> </div>
                                            <span>LeadTemplate</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_batch/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Batch">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-batch"></p> </div>
                                            <span>Batch</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_LeadMaintenance/_edit/_tab/0" class="menuajax" data-ajax="C" data-menu="Y" data-name="Lead Maintenance">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-leadmaintenance"></p> </div>
                                            <span>Lead Maintenance</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_previewtemplate/_edit/_tab/0" class="menuajax" data-ajax="C" data-menu="Y" data-name="Preview Template">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-previewtemplate"></p> </div>
                                            <span>Preview Template</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                            </ul>
                    </li>
                    <li>
                        <a href="/_dnc/_list" class="menuajax" data-ajax="C" data-menu="Y"  data-name="DNC">
                            <div class="i-c i-c-14x14" title="DNC"><p class="i-c-dnc"></p> </div>
                            <span class="menuhide">DNC</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Reports">
                            <div class="i-c i-c-14x14" title="Reports"><p class="i-c-report"></p> </div>
                            <span class="menuhide">Reports</span>
                                <span class="pull-right-container">
                                    <span class="label label-primary pull-right"></span>
                                </span>
                        </a>
                            <ul>
                                    <li>
                                        <a href="/_report/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Report">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-report"></p> </div>
                                            <span>Report</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_reporttemplate/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Report Template">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-reporttemplate"></p> </div>
                                            <span>Report Template</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_callanalysistool/_edit/_tab/0" class="menuajax" data-ajax="C" data-menu="Y" data-name="Call Analysis Tool">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-callanalysistool"></p> </div>
                                            <span>Call Analysis Tool</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_leaddumpreport/_edit/_tab/0" class="menuajax" data-ajax="C" data-menu="Y" data-name="Lead Dump Report">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-report"></p> </div>
                                            <span>Lead Dump Report</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_rejecteddumpreport/_edit/_tab/0" class="menuajax" data-ajax="C" data-menu="Y" data-name="Rejected Dump Report">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-rejecteddumpreport"></p> </div>
                                            <span>Rejected Dump Report</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_archivedumpreport/_edit/_tab/0" class="menuajax" data-ajax="C" data-menu="Y" data-name="Archive Dump Report">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-report"></p> </div>
                                            <span>Archive Dump Report</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_callregisterreport/_edit/_tab/0" class="menuajax" data-ajax="C" data-menu="Y" data-name="Call Register Report">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-callregisterreport"></p> </div>
                                            <span>Call Register Report</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_emaildumpreport/_edit/_tab/0" class="menuajax" data-ajax="C" data-menu="Y" data-name="Email Dump Report">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-emaildumpreport"></p> </div>
                                            <span>Email Dump Report</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_leadsalesreport/_edit/_tab/0" class="menuajax" data-ajax="C" data-menu="Y" data-name="Sales Dump Report">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-leadsalesreport"></p> </div>
                                            <span>Sales Dump Report</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                            </ul>
                    </li>
                    <li>
                        <a href="/_emailretrieval/_edit/_tab/0" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Email Retrieval">
                            <div class="i-c i-c-14x14" title="Email Retrieval"><p class="i-c-emailretrieval"></p> </div>
                            <span class="menuhide">Email Retrieval</span>
                        </a>
                    </li>
                    <li>
                        <a href="/_voiceretrieval/_edit/_tab/0" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Voice Retrieval">
                            <div class="i-c i-c-14x14" title="Voice Retrieval"><p class="i-c-voiceretrieval"></p> </div>
                            <span class="menuhide">Voice Retrieval</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menuajax" data-ajax="C" data-menu="Y"  data-name="CRM Manager">
                            <div class="i-c i-c-14x14" title="CRM Manager"><p class="i-c-webcrm"></p> </div>
                            <span class="menuhide">CRM Manager</span>
                                <span class="pull-right-container">
                                    <span class="label label-primary pull-right"></span>
                                </span>
                        </a>
                            <ul>
                                    <li>
                                        <a href="/_vloggerform/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Vlogger Form">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-vloggerform"></p> </div>
                                            <span>Vlogger Form</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                            </ul>
                    </li>
                    <li>
                        <a href="#" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Configuration">
                            <div class="i-c i-c-14x14" title="Configuration"><p class="i-c-configuration"></p> </div>
                            <span class="menuhide">Configuration</span>
                                <span class="pull-right-container">
                                    <span class="label label-primary pull-right"></span>
                                </span>
                        </a>
                            <ul>
                                    <li>
                                        <a href="/_configuration/_edit/_tab/1" class="menuajax" data-ajax="C" data-menu="Y" data-name="Configuration">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-configuration"></p> </div>
                                            <span>Configuration</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_server/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Servers">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-server"></p> </div>
                                            <span>Servers</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_role/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Roles">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-role"></p> </div>
                                            <span>Roles</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_Subscription/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Alert Subscription">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-subscription"></p> </div>
                                            <span>Alert Subscription</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_version/_edit/_tab/1" class="menuajax" data-ajax="C" data-menu="Y" data-name="Version">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-version"></p> </div>
                                            <span>Version</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_hostadmin/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Host Admin">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-hostadmin"></p> </div>
                                            <span>Host Admin</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_template/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Templates Management">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-template"></p> </div>
                                            <span>Templates Management</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_datapermissionactivity/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Data Permission Activity">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-datapermissionactivity"></p> </div>
                                            <span>Data Permission Activity</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_fieldmaster/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Field Master">
                                            <div class="submenu" style="overflow:hidden"><p class="settings"></p> </div>
                                            <span>Field Master</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_databasebackup/_edit/_tab/0" class="menuajax" data-ajax="C" data-menu="Y" data-name="DataBase Backup">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-databasebackup"></p> </div>
                                            <span>DataBase Backup</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                            </ul>
                    </li>
                    <li>
                        <a href="#" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Master">
                            <div class="i-c i-c-14x14" title="Master"><p class="i-c-master"></p> </div>
                            <span class="menuhide">Master</span>
                                <span class="pull-right-container">
                                    <span class="label label-primary pull-right"></span>
                                </span>
                        </a>
                            <ul>
                                    <li>
                                        <a href="/_group/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Groups">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-group"></p> </div>
                                            <span>Groups</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_carrier/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Carriers">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-carrier"></p> </div>
                                            <span>Carriers</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_board/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Boards">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-board"></p> </div>
                                            <span>Boards</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_trunk/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Trunk">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-trunk"></p> </div>
                                            <span>Trunk</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_Dashboard/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Dashboard">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-dashboard"></p> </div>
                                            <span>Dashboard</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_zone/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Zone">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-zone"></p> </div>
                                            <span>Zone</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_extension/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Extensions">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-extension"></p> </div>
                                            <span>Extensions</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_ivrport/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="IVR Ports">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-ivrport"></p> </div>
                                            <span>IVR Ports</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_acdport/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="ACD Ports">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-acdport"></p> </div>
                                            <span>ACD Ports</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_msc/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="MSC/LCR">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-msc"></p> </div>
                                            <span>MSC/LCR</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_dni/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="DNI">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-dni"></p> </div>
                                            <span>DNI</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_uifavouritelayout/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="UI Favourite Layout">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-uifavouritelayout"></p> </div>
                                            <span>UI Favourite Layout</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_updateextension/_import" class="menuajax" data-ajax="C" data-menu="Y" data-name="Update Extension">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-updateextension"></p> </div>
                                            <span>Update Extension</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                            </ul>
                    </li>
                    <li>
                        <a href="#" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Management">
                            <div class="i-c i-c-14x14" title="Management"><p class="i-c-1036"></p> </div>
                            <span class="menuhide">Management</span>
                                <span class="pull-right-container">
                                    <span class="label label-primary pull-right"></span>
                                </span>
                        </a>
                            <ul>
                                    <li>
                                        <a href="/_history/_audit" class="menuajax" data-ajax="C" data-menu="Y" data-name="Audit&#160;Logs">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-1037"></p> </div>
                                            <span>Audit&#160;Logs</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_history/_login" class="menuajax" data-ajax="C" data-menu="Y" data-name="Logins">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-login"></p> </div>
                                            <span>Logins</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_history/_alerts" class="menuajax" data-ajax="C" data-menu="Y" data-name="System&#160;Alerts">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-systemalert"></p> </div>
                                            <span>System&#160;Alerts</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_applicationstatus/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Applications&#160;Status">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-1036"></p> </div>
                                            <span>Applications&#160;Status</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_Management/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="DB Upgrade">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-dbupgrade"></p> </div>
                                            <span>DB Upgrade</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_uisearchmaintenance/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="UI Search Maintenance">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-uisearchmaintenance"></p> </div>
                                            <span>UI Search Maintenance</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                            </ul>
                    </li>
                    <li>
                        <a href="#" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Attivvo Management">
                            <div class="i-c i-c-14x14" title="Attivvo Management"><p class="i-c-mailbox"></p> </div>
                            <span class="menuhide">Attivvo Management</span>
                                <span class="pull-right-container">
                                    <span class="label label-primary pull-right"></span>
                                </span>
                        </a>
                            <ul>
                                    <li>
                                        <a href="/_emailrule/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Email&#160;Mailbox&#160;Rules">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-emailrule"></p> </div>
                                            <span>Email&#160;Mailbox&#160;Rules</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_canned/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Canned Msg Management">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-canned"></p> </div>
                                            <span>Canned Msg Management</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/_mailbox/_list" class="menuajax" data-ajax="C" data-menu="Y" data-name="Mailbox Management">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-mailbox"></p> </div>
                                            <span>Mailbox Management</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                            </ul>
                    </li>
                    <li>
                        <a href="#" class="menuajax" data-ajax="C" data-menu="Y"  data-name="WebAgent">
                            <div class="i-c i-c-14x14" title="WebAgent"><p class="i-c-agent"></p> </div>
                            <span class="menuhide">WebAgent</span>
                                <span class="pull-right-container">
                                    <span class="label label-primary pull-right"></span>
                                </span>
                        </a>
                            <ul>
                                    <li>
                                        <a href="/WebAgent/AgentMaintenance" class="menuajax" data-ajax="C" data-menu="Y" data-name="Maintenance">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-1903"></p> </div>
                                            <span>Maintenance</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/WebAgent/AgentChangeStatus" class="menuajax" data-ajax="C" data-menu="Y" data-name="Change Status">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-1901"></p> </div>
                                            <span>Change Status</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/WebAgent/AgentChangeServices" class="menuajax" data-ajax="C" data-menu="Y" data-name="Change Service">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-service"></p> </div>
                                            <span>Change Service</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/WebAgent/AgentCTILogs" class="menuajax" data-ajax="C" data-menu="Y" data-name="CTI Event&#160;Log">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-1904"></p> </div>
                                            <span>CTI Event&#160;Log</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="/WebAgent/AgentShowList" class="menuajax" data-ajax="C" data-menu="Y" data-name="Attivo Mails">
                                            <div class="submenu" style="overflow:hidden"><p class="i-c-1905"></p> </div>
                                            <span>Attivo Mails</span>
                                            <span class="pull-right-container">
                                                <span class="label label-primary pull-right"></span>
                                            </span>
                                        </a>
                                    </li>
                            </ul>
                    </li>
                    <li>
                        <a href="/_email/_list" class="menuajax" data-ajax="C" data-menu="Y"  data-name="Email">
                            <div class="i-c i-c-14x14" title="Email"><p class="i-c-email"></p> </div>
                            <span class="menuhide">Email</span>
                        </a>
                    </li>
        </ul>
        <script>
            $(document).ready(function () {
                var original = $("#menu").clone(true);
                original.find(".k-state-active").removeClass("k-state-active");
                var orientation = "vertical";
                $("#menu").kendoMenu({
                    orientation: orientation,
                    // scrollable: true
                }).data("kendoMenu").wrapper.css("width", (orientation == "horizontal"), 230);
            });
        </script>
</div>


                </section>
                <section class="sidebar">
                </section>
            </aside>
            <div class="clearfix"></div>
        </div>
        <div class="content-wrapper clearfix k-content ">
                        <div class="Breadcrumbmain" style="width:100%;height:39px;">

                <div id="bc1" class="btn-group btn-breadcrumb" style="float:left;">
                </div>
                <div style="width:35%;float:right;height:31px;" id="divbctollbar">

                </div>
            </div>
            <div style="margin-top:0%;min-height:500px" id="MainAjaxDiv" class="clearfix">
                <span id="spnMessage"></span>
                <div id="divbodycontent" data-location="/_batch/_list/grid" data-location-query="">
                    <script>
    function combobox_change(e) {
          if (RelatedTo === "DailyActivity") {
              notificationMethod('DailyActivity - ', undefined, false);

            var multieditcombo = $("#multieditcombo").data("kendoComboBox");
              notificationMethod('value -------------------' + multieditcombo.value(), undefined, false);
            var activityId = multieditcombo.value();
            if ($('#div' + activityId).length > 0) {
                ChangeUpdateToSaveAction();
                var qdata = {}
                $("#maindiv").attr("data-new", "Y");
                $("#div" + activityId).attr("data-action", 'new')
                $("#div" + activityId).attr("data-update-activity", "Y");
                $("#div" + activityId).attr("data-create-type", 'new');
                qdata.ContactType = "USER";

                if ($("#dailyactivitycontacts").length > 0) {
                    qdata.ContactId = $("#dailyactivitycontacts").data("kendoComboBox").value();
                }
                if ($("#dailyactivitymonthpicker").length > 0) {
                    var monthpicker = $("#dailyactivitymonthpicker").data("kendoDatePicker").value();
                    if (monthpicker === null)
                        monthpicker = new Date();
                    qdata.caseSourceDate = kendo.toString(monthpicker, 'yyyy-MM-dd');
                }

                if (multieditcombo.value() != null) {
                    ajaxCall(activityId, qdata);
                    $("#hdngevaction").val('New');
                }
                $("#multieditwindow").data("kendoWindow").title("Add - " + multieditcombo.text());
                $("#multieditwindow").data("kendoWindow").center().open();


                multieditcombo.value(null);
            }
        }


        var a = [];
        var typeName = [];
        $('#' + gridid + ' input:checkbox:checked').each(function () {
            var sThisVal = this.checked ? $(this).attr('data-typeid') : "";
            if (sThisVal !== undefined && sThisVal !== "") {
                //if (typeName.length === 0) {
                if ($(this).attr("data-typename") !== undefined && $(this).attr("data-typename")!=="")
                    typeName.push($(this).attr("data-typename"));
                //}
                //else
                //  typeName = typeName + ', ' + $(this).attr("data-typename");
                a.push(sThisVal);
            }
        });
        if (a.length === 0 && RelatedTo!=="DailyActivity") {
            notificationMethod('Please select checkbox', 1, true);
            return;
        }
        notificationMethod('typeids  - ' + a.toString(), undefined, false);
        $('#hdngTypeId').val(a);
        $('#hdngTypeName').val(typeName);
        var multieditcombo = $("#multieditcombo").data("kendoComboBox");
        notificationMethod('value -------------------' + multieditcombo.value(), undefined, false);
        var url = "/Ajax" + $("#hdngRelatedTo").val() + "/" + 1 + "/" + multieditcombo.value();
        var activityId = multieditcombo.value();
        if ($('#div' + activityId).length > 0) {
            var activityEvent = $('#div' + activityId).attr("data-activity-event");
            var activityName = $('#div' + activityId).attr("data-activity-name");
            if (activityEvent == "Y") {
                actionPermission = appdata.permission.Event;
                ajaxCall(activityId);
                $("#hdngevaction").val(activityId + 'event');
                Save("EVENT");
            }
            else {
                if (RelatedTo === "DailyActivity") {
                     ChangeUpdateToSaveAction();
                }
                //if ($("#hdngTypeId").val().indexOf(',') == 0)
                //    $("#hdngTypeId").val($("#hdngTypeId").val().substring($("#hdngTypeId").val().indexOf(',') + 1))
                var qdata = { type: $("#hdngTypeId").val().replace(/^,|,$/g, ''), multiple: $("#hdngTypeId").val().replace(/^,|,$/g, '').split(',').length }
                if (multieditcombo.value() != null) {
                    ajaxCall(multieditcombo.value(), qdata);
                    $("#hdngevaction").val('multiupdate');
                }
                $("#multieditwindow").data("kendoWindow").title("Multi Update - "+multieditcombo.text()+" - [" + $("#hdngTypeId").val().split(',').length + " " + RelatedTo + "]");
                $("#multieditwindow").data("kendoWindow").center().open();

            }
            multieditcombo.value(null);
        }
    }

</script>
<input type="hidden" id="hdngRelatedTo" value="Batch" />
<input type="hidden" id="hdngRelatedToId" value="0" />
<input type="hidden" id="hdngRelatedToName" value="" />
<input type="hidden" id="hdngTypeId" />
<input type="hidden" id="hdngTypeName" />
<input type="hidden" id="hdngType" />
<input type="hidden" id="hdngPopupAction" />
<input type="hidden" id="hdngevaction" value="update" />
<input type="hidden" id="hdngAuditLockID" />
<input type="hidden" id="hdngFavorite" value="_tab" />
<input type="hidden" id="hdngFavouriteId" />
<input type="hidden" id="hdngChangeSet" value="0" />
<input type="hidden" id="hdngrp" value="111" />
<input type="hidden" id="hdngActivtyID" value="1034" />
<input type="hidden" id="hdngSource" />
<input type="hidden" id="hdngModule" value="" />
<input type="hidden" id="hdngGuidKey" />

<div id="divBatch" class="Ajaxhide" data-permission="111" data-module=""></div>
<script>
    RelatedToId = 0;
    RelatedTo = 'Batch';
    RelatedToName = '';
</script>


<div class="row" style="width:100%;">
    <div class="col-lg-6">
        <h2 id="headergrid"></h2>
    </div>
    <div class="col-lg-3" id="gridadvancesetting" style="text-align:right">
    </div>
    <div class="col-lg-3">
        <div id="div_cmb_setting">
            <input id="multieditcombo" name="multieditcombo" style="width:98%" type="text" /><script>
	kendo.syncReady(function(){jQuery("#multieditcombo").kendoComboBox({"change":combobox_change,"dataSource":[{"activity_id":1490,"activity_name":"Basic Setting","activity_related_to":"Batch","permission":261,"activity_order_by":1,"activity_parent_id":1034,"activity_type":14,"activity_url":"","activity_css_class":"","DataCount":0,"activity_license_available":false,"activity_app_id":0,"AppNames":"","Fields":"View, Edit, MultiEdit","activity_save_redirect":""},{"activity_id":1493,"activity_name":"Activate","activity_related_to":"Batch","permission":768,"activity_order_by":13,"activity_parent_id":1034,"activity_type":10,"activity_url":"","activity_css_class":"","DataCount":0,"activity_license_available":false,"activity_app_id":0,"AppNames":"","Fields":"MultiEdit, Event","activity_save_redirect":""},{"activity_id":1494,"activity_name":"InActivate","activity_related_to":"Batch","permission":768,"activity_order_by":14,"activity_parent_id":1034,"activity_type":10,"activity_url":"","activity_css_class":"","DataCount":0,"activity_license_available":false,"activity_app_id":0,"AppNames":"","Fields":"MultiEdit, Event","activity_save_redirect":""},{"activity_id":1495,"activity_name":"Archive","activity_related_to":"Batch","permission":768,"activity_order_by":15,"activity_parent_id":1034,"activity_type":10,"activity_url":"","activity_css_class":"","DataCount":0,"activity_license_available":false,"activity_app_id":0,"AppNames":"","Fields":"MultiEdit, Event","activity_save_redirect":""},{"activity_id":1502,"activity_name":"Expire","activity_related_to":"Batch","permission":768,"activity_order_by":16,"activity_parent_id":1034,"activity_type":10,"activity_url":"","activity_css_class":"","DataCount":0,"activity_license_available":false,"activity_app_id":0,"AppNames":"","Fields":"MultiEdit, Event","activity_save_redirect":""},{"activity_id":1503,"activity_name":"Move Back to Lead Master","activity_related_to":"Batch","permission":768,"activity_order_by":17,"activity_parent_id":1034,"activity_type":10,"activity_url":"","activity_css_class":"","DataCount":0,"activity_license_available":false,"activity_app_id":0,"AppNames":"","Fields":"MultiEdit, Event","activity_save_redirect":""}],"dataTextField":"activity_name","filter":"contains","dataValueField":"activity_id","placeholder":"Multi Edit","suggest":true});});
</script>

        </div>
    </div>
</div>

<div class="clearfix"></div>
<div id="divcontext">
    <ul id="contextMenu" style="display:none">

    </ul>
</div>
<script>
    var items = [];
    itemsContextcount = 0;
    $.each(itemsContext, function (key, value) {
        if (value.RelatedTo.toUpperCase() == RelatedTo.toUpperCase())
        {
            itemsContextcount++;
            ActvityDetails: [{data_activity:1490,data_permission:261,data_activity_id:1490,data_activity_name:"Basic Setting",data_activity_event:"N"},{data_activity:1491,data_permission:135,data_activity_id:1491,data_activity_name:"Import History",data_activity_event:"N"},{data_activity:1496,data_permission:11,data_activity_id:1496,data_activity_name:"Agent",data_activity_event:"N"},{data_activity:1497,data_permission:19,data_activity_id:1497,data_activity_name:"Agent Wise Distribution",data_activity_event:"N"},{data_activity:1498,data_permission:19,data_activity_id:1498,data_activity_name:"Module Wise Distribution",data_activity_event:"N"},{data_activity:1499,data_permission:19,data_activity_id:1499,data_activity_name:"Show Data(Summary)",data_activity_event:"N"},{data_activity:1500,data_permission:19,data_activity_id:1500,data_activity_name:"Show Data(Detail)",data_activity_event:"N"},{data_activity:1501,data_permission:1,data_activity_id:1501,data_activity_name:"Run History",data_activity_event:"N"},{data_activity:1493,data_permission:768,data_activity_id:1493,data_activity_name:"Activate",data_activity_event:"Y"},{data_activity:1494,data_permission:768,data_activity_id:1494,data_activity_name:"InActivate",data_activity_event:"Y"},{data_activity:1495,data_permission:768,data_activity_id:1495,data_activity_name:"Archive",data_activity_event:"Y"},{data_activity:1502,data_permission:768,data_activity_id:1502,data_activity_name:"Expire",data_activity_event:"Y"},{data_activity:1503,data_permission:768,data_activity_id:1503,data_activity_name:"Move Back to Lead Master",data_activity_event:"Y"},{data_activity:1509,data_permission:1,data_activity_id:1509,data_activity_name:"History",data_activity_event:"N"},];
            return false;
        }
    });
    if (itemsContextcount == 0)
        itemsContext.push({ RelatedTo: RelatedTo, ActvityDetails: [{data_activity:1490,data_permission:261,data_activity_id:1490,data_activity_name:"Basic Setting",data_activity_event:"N"},{data_activity:1491,data_permission:135,data_activity_id:1491,data_activity_name:"Import History",data_activity_event:"N"},{data_activity:1496,data_permission:11,data_activity_id:1496,data_activity_name:"Agent",data_activity_event:"N"},{data_activity:1497,data_permission:19,data_activity_id:1497,data_activity_name:"Agent Wise Distribution",data_activity_event:"N"},{data_activity:1498,data_permission:19,data_activity_id:1498,data_activity_name:"Module Wise Distribution",data_activity_event:"N"},{data_activity:1499,data_permission:19,data_activity_id:1499,data_activity_name:"Show Data(Summary)",data_activity_event:"N"},{data_activity:1500,data_permission:19,data_activity_id:1500,data_activity_name:"Show Data(Detail)",data_activity_event:"N"},{data_activity:1501,data_permission:1,data_activity_id:1501,data_activity_name:"Run History",data_activity_event:"N"},{data_activity:1493,data_permission:768,data_activity_id:1493,data_activity_name:"Activate",data_activity_event:"Y"},{data_activity:1494,data_permission:768,data_activity_id:1494,data_activity_name:"InActivate",data_activity_event:"Y"},{data_activity:1495,data_permission:768,data_activity_id:1495,data_activity_name:"Archive",data_activity_event:"Y"},{data_activity:1502,data_permission:768,data_activity_id:1502,data_activity_name:"Expire",data_activity_event:"Y"},{data_activity:1503,data_permission:768,data_activity_id:1503,data_activity_name:"Move Back to Lead Master",data_activity_event:"Y"},{data_activity:1509,data_permission:1,data_activity_id:1509,data_activity_name:"History",data_activity_event:"N"},] });
     
     
</script>

<div id="multieditwindow" style="display:none"><div>
            <div id="maindiv" data-new="N" data-activityid="1034" class="container" style="margin:1%;width:auto" data-view-type="M" data-module="">
                    <div id="div1490" class="Ajaxhide" data-permission="261" data-activity-id="1490" data-activity-name="Basic Setting"
                         data-group-enable="Y" data-action-activity="256" data-activity-event="N">
                    </div>
                                    <div id="div1493" class="Ajaxhide" data-permission="768" data-activity-id="1493" data-activity-name="Activate"
                         data-group-enable="Y" data-action-activity="512" data-activity-event="Y">
                    </div>
                    <div id="div1494" class="Ajaxhide" data-permission="768" data-activity-id="1494" data-activity-name="InActivate"
                         data-group-enable="Y" data-action-activity="512" data-activity-event="Y">
                    </div>
                    <div id="div1495" class="Ajaxhide" data-permission="768" data-activity-id="1495" data-activity-name="Archive"
                         data-group-enable="Y" data-action-activity="512" data-activity-event="Y">
                    </div>
                    <div id="div1502" class="Ajaxhide" data-permission="768" data-activity-id="1502" data-activity-name="Expire"
                         data-group-enable="Y" data-action-activity="512" data-activity-event="Y">
                    </div>
                    <div id="div1503" class="Ajaxhide" data-permission="768" data-activity-id="1503" data-activity-name="Move Back to Lead Master"
                         data-group-enable="Y" data-action-activity="512" data-activity-event="Y">
                    </div>
            </div>
            <div id="getFixed">
                <input type="button" value="Update" class="k-button k-primary " id="Update" />
                <input type="button" value="Save" class="k-button k-primary" id="Savenew" />
            </div>
        </div>
</div><script>
	kendo.syncReady(function(){jQuery("#multieditwindow").kendoWindow({"modal":true,"iframe":false,"scrollable":true,"pinned":false,"title":"Save General Information","resizable":true,"width":"900px","height":"415px","actions":["Pin","Refresh","Maximize","Close"]});});
</script>

<script>
    $(function () {
        var a = [];
         if (RelatedTo !== "DailyActivity")
             $('#div_cmb_setting').hide();
         else
             $('#div_cmb_setting').show();
        $("#chkSelectAll").change(function () {
            if (this.checked)
                $('#div_cmb_setting').show();
            else
                $('#div_cmb_setting').hide();
            $(".chkFormols").prop('checked', $(this).prop("checked")); //change all ".checkbox" checked status
        });
    });
</script>
<script>
    $(document).ready(function () {
        $("#multieditwindow").data("kendoWindow").close();
    });
    $(function () {
        var dialog = $("#multieditwindow");
        $("#undo").bind("click", function () {
            dialog.data("kendoWindow").open();
        });
        dialog.data("kendoWindow").wrapper.find(".k-i-custom").click(function (e) {
            e.preventDefault();
        });
    });
    function onClose() {
        $('#multieditwindow').data("kendoWindow").close();
    }
</script>
 

<script>
    gridid = "BatchGrid";
    $("#headergrid").html('Batches List');
</script>
<div class="k-widget k-grid" id="BatchGrid"><div class="k-grouping-header">Drag a column header and drop it here to group by that column</div><div class="k-grid-header"><div class="k-grid-header-wrap"><table><colgroup><col style="width:80px" /><col style="width:180px" /><col style="width:80px" /><col style="width:80px" /><col style="width:120px" /><col style="width:110px" /><col style="width:130px" /><col style="width:150px" /><col style="width:130px" /><col style="width:120px" /><col style="width:120px" /><col style="width:110px" /><col style="width:100px" /><col style="width:120px" /><col style="width:120px" /><col style="width:100px" /><col style="width:80px" /><col style="width:80px" /><col style="width:100px" /><col style="width:80px" /><col style="width:90px" /><col style="width:130px" /><col style="width:150px" /><col style="width:140px" /><col style="width:150px" /><col style="width:110px" /><col style="width:120px" /><col style="width:110px" /><col style="width:130px" /></colgroup><thead class="k-grid-header"><tr><th aria-label="select Press ctrl + space to group" class="k-header" data-field="leadimport_batch_id" data-index="0" data-title="select" id="20c493ef-8fb1-4a50-adf9-72b33deafeea" scope="col"><div id='headerbatch'></div></th><th aria-label="Batch Name Press ctrl + space to group" class="k-header" data-field="leadimport_batch_name" data-index="1" data-title="Batch Name" id="b29050c7-0375-4ed1-ba42-a87e435f2e3d" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=leadimport_batch_name-asc">Batch Name</a></th><th aria-label="Zone Press ctrl + space to group" class="k-header" data-field="Leadimport_zone" data-index="2" data-title="Zone" id="63b9367d-95c7-4415-9d53-4730317d5990" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=Leadimport_zone-asc">Zone</a></th><th aria-label="Status Press ctrl + space to group" class="k-header" data-field="leadimport_batch_status" data-index="3" data-title="Status" id="2f28141d-d52d-4039-913f-a66671b4d2a5" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=leadimport_batch_status-asc">Status</a></th><th aria-label="Service Name Press ctrl + space to group" class="k-header" data-field="leadimport_service_name" data-index="4" data-title="Service Name" id="24adaf7f-e1f1-48b2-b1b3-fe0f5d827081" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=leadimport_service_name-asc">Service Name</a></th><th aria-label="Service ID Press ctrl + space to group" class="k-header" data-field="leadimport_service_id" data-index="5" data-title="Service ID" id="4c262c61-d5c7-454a-ba80-35c307b6ce63" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=leadimport_service_id-asc">Service ID</a></th><th aria-label="Last Data File Press ctrl + space to group" class="k-header" data-field="leadimport_source_name" data-index="6" data-title="Last Data File" id="7433e7b1-017e-4c18-8c9c-15328194262d" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=leadimport_source_name-asc">Last Data File</a></th><th aria-label="Batch Start Date Press ctrl + space to group" class="k-header" data-field="leadimport_batch_start_date" data-index="7" data-title="Batch Start Date" id="0e84230a-81f7-4481-8b96-55a79919b0f0" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=leadimport_batch_start_date-asc">Batch Start Date</a></th><th aria-label="Batch End Date Press ctrl + space to group" class="k-header" data-field="leadimport_batch_end_date" data-index="8" data-title="Batch End Date" id="f91c61a4-bf93-44b8-a5db-37e33e5e8a45" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=leadimport_batch_end_date-asc">Batch End Date</a></th><th aria-label="Last Activity Press ctrl + space to group" class="k-header" data-dir="desc" data-field="last_activity" data-index="9" data-title="Last Activity" id="963df4ab-a84f-4479-b351-9b7fc8b69895" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=~">Last Activity<span class="k-icon k-i-sort-desc-sm"></span></a></th><th aria-label="Source Count Press ctrl + space to group" class="k-header" data-field="leadimport_source_count" data-index="10" data-title="Source Count" id="6d664685-c6e7-4e0e-a0c2-1b9bbb2031a2" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=leadimport_source_count-asc">Source Count</a></th><th aria-label="Import Count Press ctrl + space to group" class="k-header" data-field="leadimport_import_count" data-index="11" data-title="Import Count" id="f1a94fcc-6e3f-4caf-a7dd-0afa0d4de10a" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=leadimport_import_count-asc">Import Count</a></th><th aria-label="Rejected Press ctrl + space to group" class="k-header" data-field="leadimport_rejected_count" data-index="12" data-title="Rejected" id="c4214343-ace2-4c83-b8e6-482f601e1875" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=leadimport_rejected_count-asc">Rejected</a></th><th aria-label="Fresh Pending Press ctrl + space to group" class="k-header" data-field="count_fresh" data-index="13" data-title="Fresh Pending" id="54a77c69-8e1e-4901-9c4c-ecfe42088d86" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_fresh-asc">Fresh Pending</a></th><th aria-label="Retry Pending Press ctrl + space to group" class="k-header" data-field="count_retry" data-index="14" data-title="Retry Pending" id="34ea95af-b9f1-4003-bce0-d4a37c9414b4" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_retry-asc">Retry Pending</a></th><th aria-label="Callbacks Press ctrl + space to group" class="k-header" data-field="count_callback" data-index="15" data-title="Callbacks" id="015d7f85-2c7b-4128-8a22-e04e19f7d251" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_callback-asc">Callbacks</a></th><th aria-label="New Press ctrl + space to group" class="k-header" data-field="count_new" data-index="16" data-title="New" id="22810187-a0b4-4035-a90a-7191827fae02" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_new-asc">New</a></th><th aria-label="Hold Press ctrl + space to group" class="k-header" data-field="count_hold" data-index="17" data-title="Hold" id="944d0c82-61b2-4423-8168-9efaa2842e57" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_hold-asc">Hold</a></th><th aria-label="Consumed Press ctrl + space to group" class="k-header" data-field="count_consumed" data-index="18" data-title="Consumed" id="1d397342-e9fa-4d1c-bae9-bdb8b1fbc696" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_consumed-asc">Consumed</a></th><th aria-label="Failed Press ctrl + space to group" class="k-header" data-field="count_failed" data-index="19" data-title="Failed" id="8bdef742-ceac-415c-bd0b-92e8f51cf6bc" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_failed-asc">Failed</a></th><th aria-label="Expired Press ctrl + space to group" class="k-header" data-field="count_expired" data-index="20" data-title="Expired" id="ef6786dd-97ea-46c0-9ddb-f27c29f959a2" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_expired-asc">Expired</a></th><th aria-label="Total Queueable Press ctrl + space to group" class="k-header" data-field="count_queueable" data-index="21" data-title="Total Queueable" id="fd546684-ca7e-4b9e-8b67-8d8e27b92e95" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_queueable-asc">Total Queueable</a></th><th aria-label="Queueable Fresh Press ctrl + space to group" class="k-header" data-field="count_queueable_fresh" data-index="22" data-title="Queueable Fresh" id="c954d343-a7dc-45f1-80b2-300a943ac766" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_queueable_fresh-asc">Queueable Fresh</a></th><th aria-label="Queueable Retry Press ctrl + space to group" class="k-header" data-field="count_queueable_retry" data-index="23" data-title="Queueable Retry" id="9425e25b-52d9-478f-8bf9-4bfc9122553a" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_queueable_retry-asc">Queueable Retry</a></th><th aria-label="Queueable Callback Press ctrl + space to group" class="k-header" data-field="count_queueable_callback" data-index="24" data-title="Queueable Callback" id="e1b89e91-2f0f-4488-962f-0708d96c5b2e" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_queueable_callback-asc">Queueable Callback</a></th><th aria-label="Total Queue Press ctrl + space to group" class="k-header" data-field="count_queue" data-index="25" data-title="Total Queue" id="d9737502-2432-4fa3-a85b-3a2b179239ff" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_queue-asc">Total Queue</a></th><th aria-label="Queue Fresh Press ctrl + space to group" class="k-header" data-field="count_queue_fresh" data-index="26" data-title="Queue Fresh" id="feac8cf8-7878-4b9b-a0ab-0fb1e810ef64" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_queue_fresh-asc">Queue Fresh</a></th><th aria-label="Queue Retry Press ctrl + space to group" class="k-header" data-field="count_queue_retry" data-index="27" data-title="Queue Retry" id="0fd51d48-8435-4ee6-b7fe-c2e46f614a4c" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_queue_retry-asc">Queue Retry</a></th><th aria-label="Queue Callback Press ctrl + space to group" class="k-header" data-field="count_queue_callback" data-index="28" data-title="Queue Callback" id="42e0bed2-27ac-4e5d-a0cd-043d3fec67ff" scope="col"><a class="k-link" href="/_Batch/_list/GetLeadList?BatchGrid-sort=count_queue_callback-asc">Queue Callback</a></th></tr></thead></table></div></div><div class="k-grid-content k-auto-scrollable" style="height:auto"><table><colgroup><col style="width:80px" /><col style="width:180px" /><col style="width:80px" /><col style="width:80px" /><col style="width:120px" /><col style="width:110px" /><col style="width:130px" /><col style="width:150px" /><col style="width:130px" /><col style="width:120px" /><col style="width:120px" /><col style="width:110px" /><col style="width:100px" /><col style="width:120px" /><col style="width:120px" /><col style="width:100px" /><col style="width:80px" /><col style="width:80px" /><col style="width:100px" /><col style="width:80px" /><col style="width:90px" /><col style="width:130px" /><col style="width:150px" /><col style="width:140px" /><col style="width:150px" /><col style="width:110px" /><col style="width:120px" /><col style="width:110px" /><col style="width:130px" /></colgroup><tbody><tr class="k-no-data"><td colspan="29"></td></tr></tbody></table></div><div class="k-pager-wrap k-grid-pager"><a aria-label="Go to the first page" class="k-link k-pager-nav k-state-disabled k-pager-first" data-page="1" href="#" title="Go to the first page"><span class="k-icon k-i-arrow-end-left"></span></a><a aria-label="Go to the previous page" class="k-link k-pager-nav k-state-disabled" data-page="0" href="#" title="Go to the previous page"><span class="k-icon k-i-arrow-60-left"></span></a><div class="k-pager-numbers-wrap k-floatwrap"><select class="k-dropdown"><option selected="selected">1</option></select><ul class="k-pager-numbers"><li><span class="k-link k-state-selected" data-page="1">1</span></li></ul></div><a aria-label="Go to the next page" class="k-link k-pager-nav k-state-disabled" data-page="2" href="#" title="Go to the next page"><span class="k-icon k-i-arrow-60-right"></span></a><a aria-label="Go to the last page" class="k-link k-pager-nav k-state-disabled k-pager-last" data-page="1" href="#" title="Go to the last page"><span class="k-icon k-i-arrow-end-right"></span></a><span class="k-pager-sizes k-label"><select><option value="10">10</option><option value="20">20</option><option value="30">30</option><option value="50">50</option><option value="100">100</option><option value="200">200</option><option value="500">500</option></select>items per page</span><a aria-label="Refresh" class="k-pager-refresh k-link" href="/_Batch/_list/GetLeadList" title="Refresh"><span class="k-icon k-i-refresh"></span></a><span class="k-pager-info k-label">No items to display</span></div></div><script>
	kendo.syncReady(function(){jQuery("#BatchGrid").kendoGrid({"dataBound":onDataBound,"columns":[{"title":"select","headerAttributes":{"data-field":"leadimport_batch_id","data-title":"select","aria-label":"select Press ctrl + space to group"},"width":"80px","template":"#=MastergridCellActivity({type:\u0027M\u0027,typeId:leadimport_batch_id,typeName:leadimport_batch_name,ischeck:true,edit:true,relatedToID:leadimport_batch_id,typeclass:\u0027chkgridbatch\u0027,delete:leadimport_batch_status==\u0027R\u0027||leadimport_batch_status==\u0027P\u0027})#","field":"leadimport_batch_id","sortable":false,"filterable":false,"encoded":true},{"title":"Batch Name","attributes":{"class":"templateCell"},"headerAttributes":{"data-field":"leadimport_batch_name","data-title":"Batch Name","aria-label":"Batch Name Press ctrl + space to group"},"width":"180px","template":"\u003ca class=\u0027k-link menuajax\u0027 data-ajax=\u0027C\u0027  href=\u0027/_Batch/_edit/_tab/#=leadimport_batch_id#\u0027\u003e#=leadimport_batch_name# \u003c/a\u003e\u003cspan id=\u0027#=leadimport_batch_id#\u0027 data-status=\u0027#=leadimport_batch_status#\u0027 class=\u0027contextMenuClick\u0027 aria-hidden=\u0027true\u0027\u003e\u003c/span\u003e","field":"leadimport_batch_name","filterable":{"cell":{"operator":"contains"}},"encoded":true},{"title":"Zone","headerAttributes":{"data-field":"Leadimport_zone","data-title":"Zone","aria-label":"Zone Press ctrl + space to group"},"width":"80px","field":"Leadimport_zone","encoded":true},{"title":"Status","headerAttributes":{"data-field":"leadimport_batch_status","data-title":"Status","aria-label":"Status Press ctrl + space to group"},"width":"80px","template":"\u003cspan class=\u0027#=getStatusClass(CurrentStatus)#\u0027\u003e#=leadimport_batch_status# - #=CurrentStatus#\u003c/span\u003e","field":"leadimport_batch_status","encoded":true},{"title":"Service Name","headerAttributes":{"data-field":"leadimport_service_name","data-title":"Service Name","aria-label":"Service Name Press ctrl + space to group"},"width":"120px","field":"leadimport_service_name","encoded":true},{"title":"Service ID","headerAttributes":{"data-field":"leadimport_service_id","data-title":"Service ID","aria-label":"Service ID Press ctrl + space to group"},"width":"110px","field":"leadimport_service_id","encoded":true},{"title":"Last Data File","headerAttributes":{"data-field":"leadimport_source_name","data-title":"Last Data File","aria-label":"Last Data File Press ctrl + space to group"},"width":"130px","field":"leadimport_source_name","encoded":true},{"title":"Batch Start Date","headerAttributes":{"data-field":"leadimport_batch_start_date","data-title":"Batch Start Date","aria-label":"Batch Start Date Press ctrl + space to group"},"width":"150px","template":"#=dateformat(leadimport_batch_start_date,\u00272025-01-01\u0027)#","field":"leadimport_batch_start_date","encoded":true},{"title":"Batch End Date","headerAttributes":{"data-field":"leadimport_batch_end_date","data-title":"Batch End Date","aria-label":"Batch End Date Press ctrl + space to group"},"width":"130px","template":"#=dateformat(leadimport_batch_end_date,\u00272025-01-01\u0027)#","field":"leadimport_batch_end_date","encoded":true},{"title":"Last Activity","headerAttributes":{"data-field":"last_activity","data-title":"Last Activity","aria-label":"Last Activity Press ctrl + space to group"},"width":"120px","template":"#=dateformat(last_activity,\u00272025-01-01\u0027)#","field":"last_activity","encoded":true},{"title":"Source Count","headerAttributes":{"data-field":"leadimport_source_count","data-title":"Source Count","aria-label":"Source Count Press ctrl + space to group"},"width":"120px","field":"leadimport_source_count","encoded":true},{"title":"Import Count","headerAttributes":{"data-field":"leadimport_import_count","data-title":"Import Count","aria-label":"Import Count Press ctrl + space to group"},"width":"110px","field":"leadimport_import_count","encoded":true},{"title":"Rejected","headerAttributes":{"data-field":"leadimport_rejected_count","data-title":"Rejected","aria-label":"Rejected Press ctrl + space to group"},"width":"100px","field":"leadimport_rejected_count","encoded":true},{"title":"Fresh Pending","headerAttributes":{"data-field":"count_fresh","data-title":"Fresh Pending","aria-label":"Fresh Pending Press ctrl + space to group"},"width":"120px","field":"count_fresh","encoded":true},{"title":"Retry Pending","headerAttributes":{"data-field":"count_retry","data-title":"Retry Pending","aria-label":"Retry Pending Press ctrl + space to group"},"width":"120px","field":"count_retry","encoded":true},{"title":"Callbacks","headerAttributes":{"data-field":"count_callback","data-title":"Callbacks","aria-label":"Callbacks Press ctrl + space to group"},"width":"100px","field":"count_callback","encoded":true},{"title":"New","headerAttributes":{"data-field":"count_new","data-title":"New","aria-label":"New Press ctrl + space to group"},"width":"80px","field":"count_new","encoded":true},{"title":"Hold","headerAttributes":{"data-field":"count_hold","data-title":"Hold","aria-label":"Hold Press ctrl + space to group"},"width":"80px","field":"count_hold","encoded":true},{"title":"Consumed","headerAttributes":{"data-field":"count_consumed","data-title":"Consumed","aria-label":"Consumed Press ctrl + space to group"},"width":"100px","field":"count_consumed","encoded":true},{"title":"Failed","headerAttributes":{"data-field":"count_failed","data-title":"Failed","aria-label":"Failed Press ctrl + space to group"},"width":"80px","field":"count_failed","encoded":true},{"title":"Expired","headerAttributes":{"data-field":"count_expired","data-title":"Expired","aria-label":"Expired Press ctrl + space to group"},"width":"90px","field":"count_expired","encoded":true},{"title":"Total Queueable","headerAttributes":{"data-field":"count_queueable","data-title":"Total Queueable","aria-label":"Total Queueable Press ctrl + space to group"},"width":"130px","field":"count_queueable","encoded":true},{"title":"Queueable Fresh","headerAttributes":{"data-field":"count_queueable_fresh","data-title":"Queueable Fresh","aria-label":"Queueable Fresh Press ctrl + space to group"},"width":"150px","field":"count_queueable_fresh","encoded":true},{"title":"Queueable Retry","headerAttributes":{"data-field":"count_queueable_retry","data-title":"Queueable Retry","aria-label":"Queueable Retry Press ctrl + space to group"},"width":"140px","field":"count_queueable_retry","encoded":true},{"title":"Queueable Callback","headerAttributes":{"data-field":"count_queueable_callback","data-title":"Queueable Callback","aria-label":"Queueable Callback Press ctrl + space to group"},"width":"150px","field":"count_queueable_callback","encoded":true},{"title":"Total Queue","headerAttributes":{"data-field":"count_queue","data-title":"Total Queue","aria-label":"Total Queue Press ctrl + space to group"},"width":"110px","field":"count_queue","encoded":true},{"title":"Queue Fresh","headerAttributes":{"data-field":"count_queue_fresh","data-title":"Queue Fresh","aria-label":"Queue Fresh Press ctrl + space to group"},"width":"120px","field":"count_queue_fresh","encoded":true},{"title":"Queue Retry","headerAttributes":{"data-field":"count_queue_retry","data-title":"Queue Retry","aria-label":"Queue Retry Press ctrl + space to group"},"width":"110px","field":"count_queue_retry","encoded":true},{"title":"Queue Callback","headerAttributes":{"data-field":"count_queue_callback","data-title":"Queue Callback","aria-label":"Queue Callback Press ctrl + space to group"},"width":"130px","field":"count_queue_callback","encoded":true}],"groupable":{"enabled":true},"pageable":{"refresh":true,"pageSizes":[10,20,30,50,100,200,500],"buttonCount":5},"sortable":true,"filterable":{"mode":"row"},"excel":{"fileName":"Batch List.xlsx","allPages":true,"filterable":true},"pdf":{"allPages":true,"avoidLinks":true,"fileName":"Batch List.pdf","paperSize":"A4","landscape":true,"margin":{"top":"2cm","right":"1cm","bottom":"1cm","left":"1cm"},"repeatHeaders":true},"resizable":true,"scrollable":{"height":"auto"},"dataSource":{"type":(function(){if(kendo.data.transports['aspnetmvc-ajax']){return 'aspnetmvc-ajax';} else{throw new Error('The kendo.aspnetmvc.min.js script is not included.');}})(),"transport":{"read":{"url":"/_Batch/_list/GetLeadList","data":filterdata},"prefix":""},"pageSize":10,"page":1,"groupPaging":false,"total":0,"serverPaging":true,"serverSorting":true,"serverFiltering":true,"serverGrouping":true,"serverAggregates":true,"sort":[{"field":"last_activity","dir":"desc"}],"filter":[],"error":onGridError,"schema":{"data":"Data","total":"Total","errors":"Errors","model":{"fields":{"leadimport_batch_id":{"type":"number"},"leadimport_service_id":{"type":"number"},"leadimport_service_name":{"type":"string"},"leadimport_template_id":{"type":"number"},"leadimport_template_name":{"type":"string"},"leadimport_vendor_id":{"type":"number"},"leadimport_vendor_name":{"type":"string"},"leadimport_batch_name":{"type":"string"},"leadimport_country_code":{"type":"string"},"leadimport_source_type":{"type":"string"},"leadimport_source_path":{"type":"string"},"leadimport_source_name":{"type":"string"},"leadimport_source_count":{"type":"number"},"leadimport_import_count":{"type":"number"},"leadimport_rejected_count":{"type":"number"},"count_fresh":{"type":"number"},"count_retry":{"type":"number"},"count_callback":{"type":"number"},"count_new":{"type":"number"},"count_hold":{"type":"number"},"count_consumed":{"type":"number"},"count_failed":{"type":"number"},"count_expired":{"type":"number"},"count_queueable":{"type":"number"},"count_queueable_fresh":{"type":"number"},"count_queueable_retry":{"type":"number"},"count_queueable_callback":{"type":"number"},"count_queue":{"type":"number"},"count_queue_fresh":{"type":"number"},"count_queue_retry":{"type":"number"},"count_queue_callback":{"type":"number"},"leadimport_rejected_dnc":{"type":"number"},"leadimport_rejected_invalid":{"type":"number"},"leadimport_rejected_fieldrules":{"type":"number"},"leadimport_rejected_zones":{"type":"number"},"leadimport_rejected_duplicate":{"type":"number"},"leadimport_rejected_error":{"type":"number"},"leadimport_imported_by_id":{"type":"number"},"leadimport_imported_by_name":{"type":"string"},"leadimport_imported_on_computer":{"type":"string"},"leadimport_imported_on_date":{"type":"date"},"leadimport_summary":{"type":"string"},"batchimport_activate_queue_flag":{"type":"string"},"leadimport_batch_status":{"type":"string"},"leadimport_batch_refill_percentage":{"type":"number"},"leadimport_batch_usage_percentage":{"type":"number"},"Leadimport_zone":{"type":"string"},"Leadimport_batch_fix_agents":{"type":"string"},"leadimport_batch_start_date":{"type":"date"},"leadimport_batch_end_date":{"type":"date"},"leadimport_batch_fresh_percentage":{"type":"number"},"leadimport_batch_retry_percentage":{"type":"number"},"leadimport_batch_configuration_flag":{"type":"string"},"last_activity":{"type":"date"},"leadimport_check_dnc":{"type":"string"},"leadimport_check_invalid":{"type":"string"},"leadimport_check_fieldrule":{"type":"string"},"leadimport_check_zone":{"type":"string"},"leadimport_dnc_action":{"type":"number"},"Uploader_AllowedExtensions":{"type":"object"},"SheetName":{"type":"string"},"TemplateName":{"type":"string"},"SheetFieldName":{"type":"string"},"batchimport_import_datetime":{"type":"date"},"IsMultiEdit":{"type":"boolean"},"FileDetails":{"type":"object"},"CurrentStatus":{"type":"string"}}}}},"navigatable":true});});
</script>  
<p>
    <span id="pcountDown">
    </span>
</p>
<script>

$(function () {
    MastergridHeader({ ischeck: true, id: 'headerbatch', typeclass: 'chkgridbatch', multipleDelete: true });
    });
    function bindbatchagrid()
    {

        //window.gridFilterData.archive = $("#chkbatcharchived").is(':checked');
        if ($("#chkbatcharchived").is(':checked'))
            window.gridFilterData.archive = "R";
        else
            window.gridFilterData.archive = "";
        $('.k-i-refresh').trigger('click');
    }
    var a = '<span class="archivedcheck"> Archived <input type="checkbox" id="chkbatcharchived" onchange="bindbatchagrid()" /></span>'
    if ($("#gridadvancesetting").length > 0)
    {
        window.gridFilterData.archive = null;
        
        $("#gridadvancesetting").html(a);
    }
    else
    {
        $(".FocusClass .AdvanceSetting").html(a);
    }
    $(document).ready(function () {
        BatchConsoleTimeOut();
        BatchCountDown(59);
        function BatchConsoleTimeOut() {
            notificationMethod('Timeout log length ' + $("#BatchGrid").length, undefined, false);
            if ($("#BatchGrid").length > 0) {
                setTimeout(function () {
                    if ($("#BatchGrid").length > 0) {
                        $("#BatchGrid").data("kendoGrid").dataSource.read().then(
                            function () {
                                BatchConsoleTimeOut();
                                BatchCountDown(59);
                            }
                        );
                    }
                    else {
                        clearInterval(agenttimer);
                    }
                }
                    , 60000);
            }
            else
                clearInterval(agenttimer);
        }
    });
    var agenttimer;
    function BatchCountDown(sec) {
        if (agenttimer) clearInterval(agenttimer);
        agenttimer = setInterval(function () {
            var html = "";
            if (sec < 3)
                html = " Automatic syncing process completed successfully";
            else if (sec < 4)
                html = " Automatic sync in process please wait";
            else {
                var d = new Date();
                html = "Last auto synced  <b>" + (d.getHours() < 10 ? '0' + d.getHours() : d.getHours()) + ":" + (d.getMinutes() < 10 ? '0' + d.getMinutes() : d.getMinutes()) + "</b> next auto sync process run again after " + sec-- + " seconds ";
                html += '(sync manually <span title=\'Refersh\' class=\'k-icon k-i-reload batchcountdownrefresh\' style="cursor:pointer;"></span>)';
            }
            $('#pcountDown').html(html);
            if (sec === -1) {
                clearInterval(agenttimer);
            }
        }, 1000);
    }
    $(document).on("click", ".batchcountdownrefresh", function () {
        $("#BatchGrid").data("kendoGrid").dataSource.read();
    });
</script>

 

                </div>
                <div id="divagentcontent" style="display:none">
                    <style>
                        .CallHideClass {
                            display: none;
                        }
                    </style>
                    <div class="container-fluid" id="divagentcallcontent"></div>
                </div>
                <div id="divpreviewcall" style="display:none">
                </div>
                <br /><br />
            </div>
        </div>
        <footer class="main-footer " style="transition:height 2s;">
            <div class="pull-right hidden-xs">
                    <div class="footerdbinfo">
                        DB INFO:<span id="ServerName">192.168.100.18</span>
                        /<span id="ServerDBName">interdialog</span>
                        /<span id="ServerUserId">root</span>
                        / VERSION: <span id="ServerVersion">22.01.01.36</span>
                    </div>
            </div>
        </footer>
        <aside id="aside" class="slide">
            <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
                <li>
                    <button type="button" id="close" class="k-primary k-button">
                        <span class="fa fa-arrow-circle-right" aria-hidden="true"></span> Close
                    </button>
                </li>
            </ul>
            <!-- Tab panes -->
            <div class="tab-content" style="margin:2px;padding:0px;">
                <!-- Home tab content -->
                <div class="tab-pane" id="control-sidebar-home-tab">
                </div>
                <div class="tab-pane" id="control-sidebar-bell-tab">
                        <ul class="control-sidebar-menu" style="margin:.5px;">
                            <li>
                                

<div class="container-fluid" style="padding:0px;">
    <div class="row" style="margin-top:10px; margin-left:0px;">
        <div class="col-xs-12" style="padding-left:5px;padding-right:15px">
            <label style="color:white; font-weight:bold;">Service</label>
            <input id="comboAgentInternalChatService" name="comboAgentInternalChatService" style="width:100%;" type="text" /><script>
	kendo.syncReady(function(){jQuery("#comboAgentInternalChatService").kendoComboBox({"change":InternalAgentChatListSync,"dataSource":{"transport":{"read":{"url":"/api/Api/GetChatAgentServiceList?type=json&AgentId=2","type":"GET"},"prefix":""},"schema":{"errors":"Errors"}},"dataTextField":"service_name","filter":"contains","dataValueField":"service_id","placeholder":"Select Any...","suggest":true});});
</script>
        </div>
    </div>
    <div class="row" style="margin-top:10px;margin-left:0px;">
        <div class="col-xs-12" style="padding-left:5px;">
            <label style="color:white; font-weight:bold;">Agent</label>
            <div style="height: calc(100vh - 160px); overflow-y: scroll;">
                <ul class="list-group" id="ul_Agent_Internal_Chat" style="width:200px"></ul>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        InternalAgentChatListSync();
    });
    function InternalAgentChatListSync() {
        try {
            var Type = "A";
            var ServiceId = -1;
            var comboAgentInternalChatService = $("#comboAgentInternalChatService").data("kendoComboBox");
            if (comboAgentInternalChatService.value() != "") {
                ServiceId = comboAgentInternalChatService.value();
            }
            var ReqAgentID = 0;
            var ReadFlag = "";
            var txtMessage = "";

            $.ajax({
                headers: { RequestVerificationToken: appdata.tk },
                type: "GET",
                url: "/api/Api/GetAgentMessageList?type=json&szType=" + Type + "&nServiceId=" + ServiceId + "&nReqAgentID=" + ReqAgentID + "&szReadFlag=" + ReadFlag + "&szMessageText=" + txtMessage + "&AgentId=" + 2,
                dataType: "json",
                async: true,
            }).done(function (data) {
                if (data != null && data.length > 0) {
                    var m_InternalChatList = $.parseJSON(data);
                    if (m_InternalChatList.ResultCode == "0") {
                        $("#ul_Agent_Internal_Chat").empty();
                        for (var i = 0; i < m_InternalChatList.ResultString.length; i++) {
                            var x_item = m_InternalChatList.ResultString[i];

                            var m_li_html = "<li class='list-group-item' style='cursor: pointer; padding: 7px 15px;font-size:11px;font-family: inherit;font-weight: bold;' id='liinternalchat_" + x_item.agent_agent_id + "'"
                                + "onclick='javascript:return OpenInternalChatWindow(" + x_item.agent_agent_id + ");'>" + x_item.agent_name
                                + "<span class='badge' style='font-size:12px;background-color:" + x_item.agent_status_name_color +";' id='InternalChatUnreadCount_" + x_item.agent_agent_id + "'>" + x_item.unread_count + "</span>"
                                + "<input type='hidden' id='InternalChatAgentName_" + x_item.agent_agent_id + "' value='" + x_item.agent_name + "' />"
                                + "</li>";

                            $("#ul_Agent_Internal_Chat").append(m_li_html);
                        }
                    }
                    else {
                        var msg = 'Exception error js name: AgentInternalChatlist.cshtml ,action name: InternalAgentChatListSync,Error: ' + m_InternalChatList.ResultString;
                        notificationMethod(msg, 1, false);
                    }
                }
            }).always(function () {
            }).fail(function (data, textStatus, errorThrown) {
                notificationMethod("[AgentInternalChat.cshtml/InternalAgentChatListSync()]" + '[Error]: ' + errorThrown + JSON.stringify(data), undefined, false);
            });
        }
        catch (e) {
            notificationMethod("[ERROR][AgentInternalChatList.cshtml InternalAgentChatListSync()] " + e, undefined, false);
        }
    }
    var nCountInternalChatWindow = 0;
    var nInternalChatWindow_unique_id = 0;
    var internalChat_window_ids = new Object();
    var internalChat_left_position = new Object();

    function OpenInternalChatWindow(id) {
        try {
            if ($("#InternalChatAgentName_" + id).length === 0)
                return false;

            $that = $("liinternalchat_" + id);
            $that.parent().find('li').removeClass('active');
            $that.addClass('active');

            var window_id = "internalchat_" + id;
            var kendoWindow = $("#" + window_id);
            if (kendoWindow.data("kendoWindow")) {
                kendoWindow = kendoWindow.data("kendoWindow");
                kendoWindow.open();
                $("#InternalChatUnreadCount_" + id).text('0');
                return false;
            }
            var serviceId = -1;
            var comboAgentInternalChatService = $("#comboAgentInternalChatService").data("kendoComboBox");
            if (comboAgentInternalChatService.value() != "") {
                serviceId = comboAgentInternalChatService.value();
            }
            var top_position = 192;
            var left_position = 10;
            if (parseInt(nCountInternalChatWindow) > 0)
                left_position = parseInt(left_position) + nCountInternalChatWindow * 300;

            internalChat_window_ids[nInternalChatWindow_unique_id] = window_id;
            internalChat_left_position[nInternalChatWindow_unique_id] = left_position;

            var kendoWindow = $("<div id='" + window_id + "'/>").kendoWindow({
                title: $("#InternalChatAgentName_" + id).val(),
                width: "290px",
                height: "400px",
                resizable: false,
                draggable: false,
                scrollable: false,
                position: { top: top_position, left: left_position },
                modal: false,
                actions: ["Minimize", "Close"],
                content: "/WebAgent/AgentInternalChat?&ReqAgentId=" + id,
                minimize: function () {
                    var _xx = 0;
                    for (_x in internalChat_window_ids) {
                        if (this.element[0].id == internalChat_window_ids[_x]) {
                            _xx = _x;
                            break;
                        }
                    }
                    $("#" + window_id).closest(".k-window").css({
                        top: ($(window).height() - 38),
                        left: internalChat_left_position[_xx]
                    });
                    kendoWindow.wrapper.find("a[aria-label='window-restore'][role='button'][href='#']").click(function (e) { /*.k - i - restore */
                        $("#" + window_id).closest(".k-window").css({
                            top: top_position,
                            left: internalChat_left_position[_xx]
                        });
                        var dialog = $("#" + window_id).data("kendoWindow");
                        dialog.restore();
                        e.preventDefault();
                    });
                },
                deactivate: function () {
                    var _xx = 0;
                    for (_x in internalChat_window_ids) {
                        if (this.element[0].id == internalChat_window_ids[_x]) {
                            _xx = _x;
                            break;
                        }
                    }
                    this.destroy();
                    for (_x in internalChat_window_ids) {
                        if (parseInt(_x) > parseInt(_xx)) {
                            $("#" + internalChat_window_ids[_x]).closest(".k-window").css({
                                left: internalChat_left_position[_x] - 300
                            });
                            internalChat_left_position[_x] = internalChat_left_position[_x] - 300;
                        }
                    }
                    delete internalChat_window_ids[_xx];
                    delete internalChat_left_position[_xx];

                    nCountInternalChatWindow = parseInt(nCountInternalChatWindow) - 1;
                }
            }).data("kendoWindow");
            kendoWindow.open();
            nCountInternalChatWindow = parseInt(nCountInternalChatWindow) + 1;
            nInternalChatWindow_unique_id = parseInt(nInternalChatWindow_unique_id) + 1;
            $("#InternalChatUnreadCount_" + id).text('0');
        }
        catch (e) {
            notificationMethod("[ERROR][AgentInternalChatList.cshtml OpenInternalChatWindow()] " + e, undefined, false);
        }
    }
</script>

                            </li>
                        </ul>
                </div>
                <div class="tab-pane" id="control-sidebar-settings-tab">
                    <h3 class="control-sidebar-heading">&nbsp;&nbsp;Settings</h3>
                    <div class="content">
                        <div class="themechooser" data-rel="themechooser" data-role="details">
    <span class="tc-activator k-block k-shadow " style="width:196px">
        <span class="tc-current" data-bind="text: selectedTheme"> </span>
       
        <span class="k-icon k-i-collapse">  </span>
    </span>
    

    <div class="tc-theme-list">
        <div class="tc-column">
            <h4>Select any Theme</h4>
            <ul class="themes-grid"
                data-role="themechooser"
                data-template="theme-item-template"
                data-bind="source: themes, value: selectedTheme" style="padding-left: 15px;"></ul>
        </div>
    </div>
</div>
<script id="theme-item-template" type="text/x-kendo-template">
    <li class="tc-item">
        # for (var i = 0; i < colors.length; i++) { #
        <span class="tc-color" style="background-color: #= colors[i] #"></span>
        # } #
        <span class="tc-name">#: name #</span>
    </li>
</script>
<script id="size-item-template" type="text/x-kendo-template">
    <li class="tc-item">
        <span class="tc-name">#: name #</span>
        # if ('relativity' in data) { #
        <span class="tc-relativity">
            (#: relativity #)
        </span>
        # } #
    </li>
</script>

                        <hr />
                        
<div class="form-group">
    <label class="control-sidebar-subheading">
        Fix Header
        <input type="checkbox"  class="pull-right" id="Fixedheader" />
    </label>

</div>
<div class="form-group">
    <label class="control-sidebar-subheading">
        Collapse Menu
        <input type="checkbox"  class="pull-right" id="FixedMenu" />
    </label>
</div>

<div class="form-group">
    <label class="control-sidebar-subheading">
        Fix Footer
        <input type="checkbox"  class="pull-right" id="FixedFooter" />
    </label>
</div>
<div class="form-group">
    <label class="control-sidebar-subheading">
        Grid Row Filter
        <input type="checkbox"  checked= &quot;checked&quot; class="pull-right" id="stRowFilter" />
    </label>
</div>
<div class="form-group">
    <label class="control-sidebar-subheading">
        Agent Call Detail View
        <input type="checkbox"  class="pull-right" id="AgentCallView" />
    </label>
</div>
<div class="form-group">
    <label class="control-sidebar-subheading">
        Show Panel Left Side
        <input type="checkbox"  checked= &quot;checked&quot; class="pull-right" id="AgentPanelLeftPosition" />
    </label>
</div>
    <div class="form-group">
        <label class="control-sidebar-subheading">
            New Tab For Create
            <input type="checkbox"  class="pull-right" id="NewTabForCreate" />
        </label>
    </div>
<div class="form-group">
    <label class="control-sidebar-subheading">
        Call Received Notification
        <input type="checkbox"  class="pull-right" id="AgentCallNotification" />
    </label>
</div>
<div class="form-group">
    <label class="control-sidebar-subheading">
        Default Page Size &nbsp;


        <input id="defaultPageSize" name="defaultPageSize" style="width:35%" type="text" value="10" /><script>
	kendo.syncReady(function(){jQuery("#defaultPageSize").kendoDropDownList({"dataSource":[{"ID":0,"Name":"10","value":"10"},{"ID":0,"Name":"20","value":"20"},{"ID":0,"Name":"30","value":"30"},{"ID":0,"Name":"50","value":"50"},{"ID":0,"Name":"100","value":"100"},{"ID":0,"Name":"200","value":"200"},{"ID":0,"Name":"500","value":"500"}],"dataTextField":"Name","dataValueField":"value"});});
</script>
    </label>
</div>
<div class="form-group">
    <button type="button" id="RestoreDefault" style="width:196px" class="btn btn-secondary btn-sm">
        <span class="k-icon k-i-restore" aria-hidden="true"></span> Restore Default
    </button>
</div>
                    </div>
                </div>

            </div>
        </aside>
        <div class="control-sidebar-bg"></div>
    </div>
    <div id="ctithm"></div>
    <div id="window" style="display:none"><style>    
#header1{
/*position: fixed;*/
z-index: 1000;
/*max-width: 831px;*/
width:100%;
/*background-color: teal;*/
margin-left: 0px;
}

.ParView{ 
 /*position:relative;*/
   width: 100%;
   overflow-y: auto;
   overflow-x: hidden;
   height: 257px;
  
    padding:5px 0 5px 0; /* Header height and footer height */
}


.kendo-modal--footer{
    bottom: 0;
    right: 0;
    position: absolute;
    padding: 10px;
    width: 100%;
    border-top: 1px solid #a1a1a1;
}
    #OldValueHide {
    display:none
    }
</style>
<form action="/_batch/_list/grid" method="post"><input name="__RequestVerificationToken" type="hidden" value="rNSkLWd6Vw4X19tFkKcd53XaspQKk8Op9TtBuDCgPMkIciZdRiOvhfpjNnFHzfzoiUVp8WfVL2ysSWOT439EmiSE1E5Cahr-Psnlb0ah3RQ1" />        <div class="k-header" id="header1" >
            <div class="form-group row">
                    <div class="col-md-2 col-sm-1"> 
                        <h4 class="popupField"><b >Field</b></h4> 
                    </div>
                    <div class="col-md-4 col-sm-3" id="OldValueHide" style="text-align:center;">
                        <h4 class="popupOldValue"><b>Old Value</b></h4>
                    </div>
                    <div class="col-md-3 col-sm-3" style="text-align:center;">
                        <h4 class="popupValue"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Value</b></h4>
                    </div>
                    <div class="col-md-1 col-sm-1">
                        <input type="button" value="Continue" class="k-button k-primary" id="saveContinue" />
                    </div>
                </div>
            </div> 
            <div class="ParView" style=""></div> 
</form> </div><script>
	kendo.syncReady(function(){jQuery("#window").kendoWindow({"modal":true,"iframe":false,"scrollable":false,"pinned":true,"title":"","resizable":true,"width":"900px","height":"385px","actions":["Pin","Refresh","Maximize","Close"]});});
</script>
    <script id="delete-confirmation" type="text/x-kendo-template">
        <p class="delete-message">
            Are you sure you want to reset all settings?
            <br /> Please note: Your favorite view and ui setting will be restore. Make sure you have not any unsaved data <br />  After successful please reload
        </p>
        <br />
        <button class="delete-confirm k-button">Yes</button>
        <button class="delete-cancel k-button">No</button>
    </script>
    <script id="emailTemplate" type="text/x-kendo-template">
    <div class="new-mail">
        <img src="#= path #Content/web/notification/envelope.png" />
        <h3>#= title #</h3>
        <p style="white-space: pre-wrap">#= message #</p>
    </div>
</script>

<script id="warningTemplate" type="text/x-kendo-template">
    <div class="upload-success">
        <img src="#= path #Content/web/notification/success-icon.png" />
        <h3>#= title #</h3>
        <p style="white-space: pre-wrap">#= message #</p>
    </div>
</script>

<script id="errorTemplate" type="text/x-kendo-template">
    <div class="wrong-pass">
        <img src="#= path #Content/web/notification/error-icon.png" />
        <h3>#= title #</h3>
        <p style="white-space: pre-wrap">#= message #</p>
    </div>
</script>

<script id="successTemplate" type="text/x-kendo-template">
    <div class="upload-success">
        <img src="#= path #Content/web/notification/success-icon.png" />
        <h3>#= title #</h3>
        <p style="white-space: pre-wrap">#= message #</p>
    </div>
</script>

<div style="width:35%;float:right;height:31px;display:none">
    <span id="notification"></span><script>
	kendo.syncReady(function(){jQuery("#notification").kendoNotification({"position":{"right":30,"top":30},"stacking":"down","autoHideAfter":30000,"templates":[{"type":"info","templateId":"emailTemplate"},{"type":"error","templateId":"errorTemplate"},{"type":"success","templateId":"successTemplate"},{"type":"warning","templateId":"warningTemplate"}]});});
</script>
</div>

<style>
    .demo-section p {
        margin: 3px 0 20px;
        line-height: 50px;
    }

    .demo-section .k-button {
        width: 250px;
    }

    .k-notification {
        border: 0;
    }

    .new-mail {
        width: 300px;
        height: auto;
    }

        .new-mail h3 {
            font-size: 1em;
            padding: 32px 10px 5px;
        }

        .new-mail img {
            float: left;
            margin: 30px 15px 30px 30px;
        }

    .wrong-pass {
        width: 300px;
        height: auto;
    }

        .wrong-pass h3 {
            font-size: 1.3em;
            padding: 5px 10px 5px;
        }

        .wrong-pass img {
            float: left;
            margin: 30px 15px 30px 30px;
        }

    .upload-success {
        width: 300px;
        height: auto;
    }

        .upload-success h3 {
            font-size: 1.3em;
            padding: 5px 10px 5px;
        }

        .upload-success img {
            float: left;
            margin: 30px 15px 30px 30px;
        }
</style>

    

<script>
        //var gridid = '';
        // var gridid = 'System.Collections.Generic.List`1[CtiManager.VO.Models.RoleActivity]';
      
</script>

    
<form action="/_batch/_list/grid" method="post"><div id="connectionString" style="display:none"><div>
                <div class="ParView1">
                    <div class="form-group row">
                            <div class="col-md-3">
                                <label>Database Type</label>
                            </div>
                            <script>
                                function onDbChange() {
                                    if ($('#DatabaseType').val() == 1) {
                                        $('.odbc').hide();
                                        $("#PortNumber").val("1433")
                                    }
                                    else if ($('#DatabaseType').val() == 2) {
                                        $('.odbc').show();
                                        $("#PortNumber").val("3306")
                                    }
                                }
                            </script>

                            <div class="col-md-6">
<input data-field-type="cmb" data-field-validate="index" id="DatabaseType" name="DatabaseType" style="width:99%" type="text" /><script>
	kendo.syncReady(function(){jQuery("#DatabaseType").kendoComboBox({"change":onDbChange,"dataSource":[{"LDTName":"1 - Sql Server","LDTID":1},{"LDTName":"2 - MySql","LDTID":2}],"dataTextField":"LDTName","minLength":1,"autoBind":true,"dataValueField":"LDTID","index":0,"placeholder":"Select database type"});});
</script>
                            </div>
                            <div class="col-md-1" style="text-align:left">
                            </div>
                            <div class="col-md-4">
                            </div>
                        </div>
                    <div class="form-group row">
                            <div class="col-md-3">
                                <label>DB Server</label>
                            </div>
                            <script>
                                function onDbServerChange() {
                                    ServerNameHideShow();
                                }

                            </script>
                            <div class="col-md-6">
<input data-field-type="cmb" data-field-validate="index" id="DbServer" name="DbServer" style="width:99%" type="text" /><script>
	kendo.syncReady(function(){jQuery("#DbServer").kendoComboBox({"change":onDbServerChange,"dataSource":[{"value":"DBServer 1"},{"value":"DBServer 2"},{"value":"Manual"}],"dataTextField":"value","filter":"contains","minLength":1,"autoBind":true,"dataValueField":"value","index":0,"placeholder":"Select db server","suggest":true});});
</script>
                            </div>
                            <div class="col-md-1" style="text-align:left">
                            </div>
                            <div class="col-md-4">
                            </div>
                        </div>
                    <div class="form-group row">
                            <div class="col-md-3">
                                <label>Server</label>
                            </div>
                            <div class="col-md-6">
<input class="cs skipundo" id="DbServerName" maxlength="50" name="DbServerName" style="width:99%;" /><script>
	kendo.syncReady(function(){jQuery("#DbServerName").kendoTextBox({});});
</script>
                            </div>
                            <div class="col-md-1" style="text-align:left">
                            </div>
                            <div class="col-md-4">
                                
                            </div>
                        </div>
                    <div class="form-group row">
                            <div class="col-md-3">
                                <label>Database</label>
                            </div>
                            <div class="col-md-6">
<input class="cs skipundo" id="DatabaseName" maxlength="50" name="DatabaseName" style="width:99%;text-transform:lowercase" /><script>
	kendo.syncReady(function(){jQuery("#DatabaseName").kendoTextBox({});});
</script>
                            </div>
                            <div class="col-md-4">
                                
                            </div>
                        </div>
                    <div class="form-group row">
                            <div class="col-md-3">
                                <label>Port</label>
                            </div>
                            <div class="col-md-6">
<input class="cs1 skipundo" data-GroupName="Advanced Dialing Parameter" data-changeFlag="0" id="PortNumber" maxlength="50" name="PortNumber" style="width:99%;text-transform:lowercase" /><script>
	kendo.syncReady(function(){jQuery("#PortNumber").kendoTextBox({});});
</script>
                            </div>

                            <div class="col-md-1" style="text-align:left">
                            </div>
                            <div class="col-md-4">
                                
                            </div>
                        </div>
                    <div class="form-group row odbc">
                            <div class="col-md-3">
                                <label>Odbc Version</label>
                            </div>
                            <div class="col-md-6">
<input data-GroupName="DB Parameter" data-Old-Value="5.1" data-changeFlag="0" data-field-type="cmb" data-field-validate="index" id="OdbcVersion" maxlength="10" name="OdbcVersion" style="width:99%" type="text" value="5.1" /><script>
	kendo.syncReady(function(){jQuery("#OdbcVersion").kendoComboBox({"dataSource":["3.51","5.1","5.3 Unicode","5.7","8.0 ANSI","8.0 Unicode"]});});
</script>
                            </div>
                            <div class="col-md-1" style="text-align:left">
                            </div>
                            <div class="col-md-4">
                                
                            </div>
                        </div>
                    <div class="form-group row">
                            <div class="col-md-3 col-sm-3"></div>
                            <div class="col-md-3 col-sm-3">
                                <input type="button" value="Ok" class="k-button k-primary btnok" id="btnok" />
                                <input type="button" value="cancel" class="k-button k-primary" id="btncancel" />
                            </div>
                        </div>
                </div>
                <script>
        var dsn_control ='';
        var uid_control = '';
        var pwd_control = '';
       // var dsn_ado_control = '';
        var dsn_ado_connection_string = "";
        function databaseType() {
            if ($('#DatabaseType').val() == 1) {
                $('.odbc').hide();
                $("#PortNumber").val("1433")
            }
            else if ($('#DatabaseType').val() == 2) {
                $('.odbc').show();
                $("#PortNumber").val("3306")
            }
            if ($('#DatabaseType').val() == 1) {
                $('.odbc').hide();
                $("#PortNumber").val("1433")
            }
            else if ($('#DatabaseType').val() == 2) {
                $('.odbc').show();
                $("#PortNumber").val("3306")
            }
        }
        function ServerNameHideShow() {
            var type = $('#DbServer').val();
            if (type == "DBServer 1") {
                $('#DbServerName').val('#DBSERVER1#');
                $('#DbServerName').prop('readonly', true);
            }
            else if (type == "DBServer 2") {
                $('#DbServerName').val('#DBSERVER2#');
                $('#DbServerName').prop('readonly', true);
            }
            else {
                $('#DbServerName').val('192.168.100.18');
                $('#DatabaseName').val('interdialog');
                $('#DbServerName').prop('readonly', false);
            }
        }

        $('.skipundo').focusout(function () {
            if($.trim($(this).val()) != '')
            $(this).css({
                "border": "",
                "background": ""
            });
        });

            $(document).on("click", "#btncancel", function () {
            $("#connectionString").data("kendoWindow").close();
        });
        function MakeConnectionString() {
            var dsnStr = "";
            var serverName = $('#DbServerName').val();
            var dbName = $('#DatabaseName').val();
            var uId = "";
            var pwd = "";
            var type = $('#DatabaseType').val();
            var constr = "";
            var portNo = $('#PortNumber').val();
            if (serverName == "" || dbName == "" || type == "" || portNo == "")
                return "Invalid"
            if ($('#DbServer').val() == "DBServer 1") {
                uId = "#USERNAME1#";
                pwd = "#PASSWORD1#";
            }
            else if ($('#DbServer').val() == "DBServer 2") {
                uId = "#USERNAME2#";
                pwd = "#PASSWORD2#";
            }
            else {
                uId = "#USERNAME#";
                pwd = "#PASSWORD#";
            }

            if (type == 1) {
                constr = "DRIVER={SQL SERVER};SERVER=" + serverName + ";"
           + "DATABASE=" + dbName + ";" + "UID=" + uId + ";" + "PWD=" + pwd + ";";
                dsn_ado_connection_string = "Data Source=" + serverName + ";initial catalog=" + dbName + ";user id=" + uId + ";password=" + pwd + ";"
            }
            else if (type == 2) {
                if ($('#OdbcVersion').val() === "8.0 ANSI" || $('#OdbcVersion').val() === "8.0 Unicode") {
                    constr = "DRIVER={MySql ODBC " + $('#OdbcVersion').val() + " DRIVER" + "};SERVER=" + serverName + ";" +
                        "Port=" + portNo + ";" + "DATABASE=" + dbName + ";" + "UID=" + uId + ";" + "PWD=" + pwd + ";NO_SSPS=1;";
                }
                else {
                    constr = "DRIVER={MySql ODBC " + $('#OdbcVersion').val() + " DRIVER" + "};SERVER=" + serverName + ";" +
                        "Port=" + portNo + ";" + "DATABASE=" + dbName + ";" + "UID=" + uId + ";" + "PWD=" + pwd + ";";
                }
                notificationMethod('constr====' + constr, undefined, false);
                dsn_ado_connection_string = "server=" + serverName + ";database=" + dbName + ";user id=" + uId + ";password=" + pwd + "";
            }
            return constr;
        }
        function ParseConnectionString() {
            var dsn_connection_string = $('#' + dsn_control).val();
            var dbType = 1;
            var item = dsn_connection_string.toLowerCase().split(';');
            if (GetConnectionStringParameter(dsn_connection_string, 'driver') == "{sql server}")
                dbType = 1;
            else {
                dbType = 2;
                var temp = GetConnectionStringParameter(dsn_connection_string, 'driver').replace("mysql odbc", "");
                console.log('temp value == ' + temp);
                $("#OdbcVersion").data("kendoComboBox").value(((temp.replace("driver", "")).replace("{", "")).replace("}", "").trim().toUpperCase());

               // (((temp.replace("mysql odbc", "")).replace("driver", "")).replace("{", "")).replace("}", "").toUpperCase();
               // $("#OdbcVersion").data("kendoComboBox").value(temp.replace(/[^0-9,.]+/ig, ""));
            }
            if (GetConnectionStringParameter(dsn_connection_string, 'server') == "Manual") {
                $('#DbServer').data("kendoComboBox").value("Manual");
                $('#DbServerName').val(GetConnectionStringParameter(dsn_connection_string, 'server'));
            }
            else if (GetConnectionStringParameter(dsn_connection_string, 'server') == "#dbserver2#") {
                $('#DbServer').data("kendoComboBox").value("DBServer 2");
                $('#DbServerName').val('#DBSERVER2#');
            }
            else {
                $('#DbServer').data("kendoComboBox").value("DBServer 1");
                $('#DbServerName').val('#DBSERVER1#');
            }
            $('#PortNumber').val(GetConnectionStringParameter(dsn_connection_string, 'port'));
            $('#DatabaseName').val(GetConnectionStringParameter(dsn_connection_string, 'database'));
            $('#DatabaseType').data("kendoComboBox").value(dbType);
            databaseType();
            ServerNameHideShow();
        }

        function GetConnectionStringParameter(constr, param) {
            var item = constr.toLowerCase().split(';');
            var paramvalue = '';
            $.each(item, function (key, value) {
                var a = value.split('=');
                if (a[0] == param) {
                    paramvalue = a[1];
                    console.log('paramvalue === ' + a[0]+' = ' + paramvalue);
                    return false;
                }
            });
            return paramvalue;
        }

        $('.btnok').click(function () {
            var isValid = true;
            $('.skipundo .k-input').each(function () {
                if ($.trim($(this).val()) == '') {
                    isValid = false;
                    notificationMethod('skkipundo' + $(this).attr('id'), undefined, false);
                    $(this).css({
                        "border": "1px solid red",
                        "background": "#FFCECE"
                    });
                }
                else {
                    $(this).css({
                        "border": "",
                        "background": ""
                    });
                }
            });
            if (isValid==true)
            {
                var dsn_connection_string = MakeConnectionString();
                if (dsn_connection_string != "Invalid") {
                    $('#' + dsn_control).val(dsn_connection_string);
                  //  if ($('#' + dsn_ado_control).length > 0)
                    //    $('#' + dsn_ado_control).val(dsn_ado_connection_string);
                    $('#' + dsn_control).trigger('change')
                   // $('#' + dsn_ado_control).trigger('change')
                    var type = $('#DbServer').val();
                    if (type == "Manual") {
                        if ($('#' + uid_control).val().length == 0) {
                            $('#' + uid_control).val($('#ServerUserId').html().trim());
                            $("#" + uid_control).attr("data-changeFlag", 1);
                            $("#" + pwd_control).attr("data-changeFlag", 1);
                            $("#" + uid_control).attr("required", "required");
                            $("#" + pwd_control).attr("required", "required");
                        }
                        $('#' + uid_control).prop('readonly', false);
                        $('#' + pwd_control).prop('readonly', false);
                    }
                    else {
                        $('#' + uid_control).prop('readonly', true);
                        $('#' + pwd_control).prop('readonly', true);
                        $("#" + uid_control).removeAttr("required", "required");
                        $("#" + pwd_control).removeAttr("required", "required");
                        ValidationMessage('error' + uid_control, '', false);
                        ValidationMessage('error' + pwd_control, '', false);
                    }
                    $("#connectionString").data("kendoWindow").center().close();
                }
            }
        });
                    $(document).on("click", ".connection-property", function () {
            //debugger
            dsn_control = $(this).attr('data-dsn');
            uid_control = $(this).attr('data-username');
            pwd_control = $(this).attr('data-pwd');
          //  dsn_ado_control = $(this).attr('data-ado');
            ParseConnectionString();
            $("#connectionString").data("kendoWindow").center().open();
            $("#DatabaseType").data("kendoComboBox").value(2);
            databaseType();
        });
        $(document).ready(function () {
            if ($("#DatabaseType").data("kendoComboBox") !== undefined)
            $("#DatabaseType").data("kendoComboBox").enable(false);

        });
                </script>
            </div></div><script>
	kendo.syncReady(function(){jQuery("#connectionString").kendoWindow({"modal":true,"iframe":false,"scrollable":true,"pinned":false,"title":"Connection details","resizable":true,"width":"560px","height":"270px","actions":["Pin","Refresh","Maximize","Close"]});});
</script></form> 
    <div id="dashkendowindow" style="display:none"><div id="dashboardConfig"></div></div><script>
	kendo.syncReady(function(){jQuery("#dashkendowindow").kendoWindow({"modal":true,"iframe":false,"scrollable":true,"pinned":false,"title":"","resizable":true,"width":"1050px","height":"585px","actions":["Pin","Refresh","Maximize","Close"]});});
</script>
    <script>
        Object.size = function (obj) {
            var size = 0, key;
            for (key in obj) {
                if (obj.hasOwnProperty(key)) size++;
            }
            return size;
        };

        function FillGridFilterData(query) {
            if (query !== undefined) {
                var value = query.replaceAll("=", ":").replaceAll("&", ",").replace(/^,|,$/g, '');
                var str = value.split(':');
                if (str.length > 1)
                    window.gridSearchData[str[0]] = str[1];
                else if (str.length === 1)
                    window.gridSearchData["q"] = value;
                if (gridSearchData !== undefined && (Object.size(window.gridSearchData) >= 2 || (Object.size(window.gridSearchData) === 1 && !("q" in window.gridSearchData))))
                    window.gridFilterData = window.gridSearchData;
            }
        }
        if ($("#divbodycontent").attr("data-location-query") !== "")
            FillGridFilterData($("#divbodycontent").attr("data-location-query"));
    </script>
    <script src="/Scripts/bootstrap.js?v=22010136"></script>
    <script src="/Scripts/jquery-ui.js?v=22010136"></script>
    <script src="/Scripts/Common.js?v=22010136"></script>
    <script src="/Scripts/app.min.js?V=22010136"></script>
    <script src="/Scripts/Dashboard/jquery.gridster.min.js"></script>
    <script src="/Scripts/Dashboard/jquery.gridster.with-extras.js"></script>
    <script src="/Scripts/push.min.js"></script>

    <script>

        function workingarea() {
            //  console.log("$('#MainAjaxDiv').width()--------" + $('#MainAjaxDiv').width())
            if ($('#MainAjaxDiv').length > 0 && $('#MainAjaxDiv').width() > 0)
                return $('#MainAjaxDiv').width() - 50;

            //   console.log('menu hide-------------' + $('.menuhide').is(':visible') + '-----------' + $(window).width() + '----------')
            if ($("#FixedMenu").is(':checked') === true) {
                //      console.log('aaaaaaaaaaaaaaaaaaa')
                return ($(window).width() - 100);

            }
            else {
                //    console.log('bbbbbbbbbbbbbbbbbbbbbb')
                return ($(window).width() - 275);
            }
        }
        function StyleInChar(name, type) {
            var color = "#e45200";
            var t = window.kendoTheme;
            var a = "#512DA8";
            var b = "#e45200";
            var c = "#007cc0";
            if (t == "black" || t == "highcontrast" || t == "bootstrap") {
                a = "#000";
                b = "#272727";
                c = "orange";
            }
            else if (t == "default" || t == "material" || t == "uniform") {
                a = "#b11e9c";
                b = "blue";
                c = "#428bca";
            }
            else if (t == "blueopal" || t == "moonlight" || t == "Nova") {
                a = "#b11e9c";
                b = "#007cc0";
                c = "#e45200";
            }
            if (name.toUpperCase().charAt(0).match(/^[A-H]*$/))
                color = a;
            else if (name.toUpperCase().charAt(0).match(/^[I-O]*$/))
                color = b;
            else if (name.toUpperCase().charAt(0).match(/^[P-W]*$/))
                color = c;
            if (type == 1)
                return "style='background-color:" + color + "!important'"
            else
                document.documentElement.style.setProperty('--circlecolor', color);
        }
    </script>
    <script src="/Scripts/jquery.signalR-2.4.1.js"></script>
    <script src="/signalr/hubs"></script>
    <script id="chat-call-quote-template" type="text/x-kendo-template">
        <div class="#=styles.card# #=styles.cardRich#">
            <div class="#=styles.cardBody#">
                <div>#:message# <a href='#:link#' target='_blank'>Click</a></div>
            </div>
        </div>
    </script>
    <script>
        $(function () {
            var QUOTE_CARD_TEMPLATE = kendo.template($('#chat-call-quote-template').html());
            kendo.chat.registerTemplate("chatcallquote", QUOTE_CARD_TEMPLATE);

            Push.Permission.request();

            var webconsoleHubReconnectTimer = null;
            var tryingToReconnectWebConsoleHub = true;
            $.connection.hub.logging = true;

            function WebConsoleHubStart() {
                $.connection.hub.start("WebconsoleHub").done(function () {
                    notificationMethod("WebconsoleHub Started", undefined, false);
                    notificationMethod("WebconsoleHub Connected, transport = " + $.connection.hub.transport.name, undefined, false);
                    if (tryingToReconnectWebConsoleHub && typeof MainSessionHostId !== 'undefined') {
                        GetAgentSession();
                    }
                    if (webconsoleHubReconnectTimer !== null) {
                        clearTimeout(webconsoleHubReconnectTimer);
                        webconsoleHubReconnectTimer = null;
                    }
                });
            }
            $.connection.hub.reconnecting(function () {
                tryingToReconnectWebConsoleHub = true;
                notificationMethod("WebconsoleHub reconnecting", undefined, false);
            });
            $.connection.hub.reconnected(function () {
                tryingToReconnectWebConsoleHub = false;
                if (typeof MainSessionHostId !== 'undefined') {
                    GetAgentSession();
                }
                notificationMethod("WebconsoleHub reconnected", undefined, false);
            });
            $.connection.hub.connectionSlow(function () {
                notificationMethod('WebconsoleHub : We are currently experiencing difficulties with the connection.', undefined, false);
            });
            $.connection.hub.disconnected(function () {
                if (tryingToReconnectWebConsoleHub) {
                    notificationMethod("WebconsoleHub disconnected", undefined, false);
                    webconsoleHubReconnectTimer = setTimeout(function () { WebConsoleHubStart(); }, 5000);
                }
            });
            $.connection.hub.error(function (error) {
                notificationMethod('WebconsoleHub error: ' + error, undefined, false);
            });

            window.WebConsoleHub = $.connection.webconsoleHub;
            WebConsoleHub.client.WebConsoleHubMessageReceiver = function (MsgType, HubData) {
                try {
                    if (MsgType === "NOTIFICATION" && typeof GalaxyNotificationMessageReceived === "function") {
                        GalaxyNotificationMessageReceived(HubData);
                    }
                    else if (MsgType === "WEBAGENT" && typeof SetAgentValues === "function") {
                        SetAgentValues(HubData);
                    }
                    else if (MsgType === "WHATSAPP") {

                        if ($("#IDGChat" + HubData.CallNumber).data("kendoChat") !== undefined) {
                            var IDGChat = $("#IDGChat" + HubData.CallNumber).data("kendoChat");                            
                            if (HubData.contentType !== null && HubData.contentType !== "null" && HubData.contentType !== "") {
                                IDGChat.renderAttachments({
                                     attachments: [{
                                     contentType: "chatcallquote",
                                         content: JSON.parse("{\"message\":\"" + HubData.caption + "\",\"link\":\"/WebAgent/ReceivedAttechDownload?id=" + HubData.SMSid + "&fileSeqNo=" + HubData.fileSeqNo + "&Platform=" + HubData.platform + "\"}")
                                     }]
                                    }, {
                                    id: HubData.from,
                                    name: "",
                                    iconUrl: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAHcAdwMBIgACEQEDEQH/xAAcAAACAwADAQAAAAAAAAAAAAAABwEFBgMECAL/xABCEAABAgQBCQUEBwUJAAAAAAABAgMABAURBgcSITFBUWFxgRORocHwIiNCsRQWMlJicuEVRILR8RclMzRTkqKj0v/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwB3xFz1+UB18flEerb4Cb7ukF4rq7WpCg05yeqb4bZTo3qcVsSkbTCbxDlUrdQdUilZtNlr+zmgLdI4qOgdO+AddTqUnSZJ2cqMwhiXaF1uLOgbgN54QpsR5Xpx51bOHpZMuyNAmJhOctXEJ1DreF3P1Oo1K37RqE5N2VnJTMTC3EpO8Amw1nVHUgLucxfiSdUVP12f07Gni0O5FhHExibEDCs5qu1MHjNrUO4m0VMEBu6PlVxFIqCZ4sVFraHUBC7cFJ8wYZuFsf0XEaksNOmVnj+6zFgVH8J1K6aeEed4NoO43gPWV/W+C/6wnMAZS3JZTVMxK8pxg2S1PLN1N8FnaPxaxtvrDhSoKSlSbEEXFjcW3wH1c7rQX/TjB65xHXmfKA+gYIga9X6QQAfQiOerad8SfXGKPHE+umYRqs00rNdTLqSg/dUr2R4mASGULEzmJcQvLQ4TISqi1KIB9mw0FfNR08rRmIAAkADUIIAggggCCCCAIIIIAhpZI8ZKaebw7VHSpleiRcUfsH/TJ3H4d2raAFbEpUUqCkkpUCCFJNiDsIMB6w9H+UTz2eEYrJvjRvEkimUnnEpq0umzgOjtkj40+Y2HgRG0120ch5wEjlBEj0d8RAB9HdGJywrKMBzYBIznmB/2JPlG2OuMdlbZL2Ap/N+BbS78nE3gPP0EEEAQQRrTk6xEukydTkpducamWUOhtpwBxGcL2IVYG3AnlAZKCOedk5qnu9jUJV+VcvYJfbUgnlcC8cEAQQQQBBBBAfbLrjDyHmHFtOtnOQ4hRSpJ3gjVDDwJibGldr0pItVNx6WbWlyaW4w2QloHSCc29zaw03ub7DFFhTAdYxKG5hpCZWnqJH0p03zrXBzEjSo3G2w4w8sM4ekMM0xMlTkEC93XVfbdVvJ9WgLcQRI1xEAHd6MUuNJUTuEqxLlSQVSjllE6AQLjxAi6PowjcpmJ5vENeVQaWVrk2HuwDTeuYeBsb7wFaBs0X3QC/BuBBG9xHk6Xh7CCqrNzRdn0uN9oy2B2baVGxF9ZNyNOrhHPkco9KrcxWWqtIMTfYIl1Ndqm5TnFy9v9o7oDFUGjzNfq0vS5NKi48qylJF+zR8SzuAG/bYbY9Py7KJdhtlsZrbSAhI3ACwEdal0inUhpTVLkZaTbUbqDDQQFHjbWY7vLoN0BxvMtTCC280hxB+BaQodQYz87gPC09cu0WWQVaywC0Sd/s2jR9P1g+W+Awj+SXDK9LRnmRfUiYuP+QMdb+x6g30ztRtt9tH/mGL4W8IPQHnAYA5K8MS0u64tE4+UIUodpMEDQNubaEU0SptCjrKQY9VVNWbTJtW5hZvv9kx5uwXQ/rFXZOlrcW224hSnHEWugJQTcX42HWAc2SCZZdwTKtNuoU4w46l1CVAqRdZIBGy4N42vrlHnioSVayb4mZcaeSVFJUy6LhEy2LXSod1xsuDuh8UOqS9apEpUpW/ZTDYWEnWk7QeR0dIDvj1xggHPrBAfLpKW1FIusJJEIHI2lE5jSVemiHHEyzj6VK2uWAvzspRj0AdflHnyuyk7gHHX0mVR7pLyn5UnQhxpR0o6AlJ6HdAOjGskajhKrSqdKlyqyjipIzh4iFxkEIM/XVXFizLaersMHD+MqHX5ZDktOtNPEe3LvrCXEcLHXzGiLOlUymU5tw0mTlZZD6u0X9HbSkLP3jbXAdt51DDK3XVBKG0lSidSQNZMLaTyvyEzV0Sy6a63IuOBCZkuDOFzYKUm2gddEMh9lEww4w6nObdSUKSfiBFjCuk8jrTNXbdeqxdpzbgUGuxs4sA/ZKr25kDTwgGp6MT4eUHh5RHoCA6NcqstRKVM1Kczuwl0ZxSkXUo6gBxJsIxuFMqErXay3TJmnrlFPkhhfa54UbXzVaBbVxjYYgpDFdo01TJpSktTCM0rR9oHWCORAPSMRhHJaKJXGqnP1JE19GUVMNtslHtWIuq5Oq+rfAbutG1HnydYlnNX5TCfyFSYer89OazKyaUflLitHg2YdhFxYjpsEU4+r+FpZ1QFOpbC1dosAIazzvI0XgMtluYZcwnLvLsHWpxPZHabpUCO7T0jkyKuLXg1aF3zW5xxKORCT8yYweUfFv1uqMrI0ltxcmy57kZvtPunQDbZrsB+Iw3cE0M4dwzJ09ZHbpSVvkas9Rue69ukBfC/X5RESOPdEQAfXGKvENAp2IpAydUYDiAc5C0mymlb0nYfnti0Ovzg3aP0gEJjjJw/hqQXUWp1M5JBxKSlTea4gK0Aq2HTYX0a9Ub/I1VBO4QTJKPvKe6pnN/AfaT00kfwxra5TGqzR5ymv6G5lpSL7QTqV0NjCQydVZ3CmMnJKpe6bmFfQ5obELCvZVyCrjkomAfvXr5RPhbwg8vCKnFTVUfw/Ot0J7sKiUAsLsCdBBI06LkXAOwmAtunIQePnC0whlMlUy4p2LVuSlRlz2bj7jZs4R94Aeyrfott4RpZnKBhSXbLiq1LOH7rF3FdyQYDTcYPn8oWeHMUVzF+N0P0kuyuH5QEPIWlJDmg2zj98kg2B0Ad7L9DjAHy+cIDKBMLxLlFclZSylJcbkGiNOo2V3LUvuhx41r6MOYemZ8kF8js5dJ+Nw6ug1ngDCtyM0RdRxC9WZkFTMgk5q1fE8sHTzCSSfzJgN9g7J7TMMuCbWsztRAt9IcSAG7jTmJ2cySeNo2HTkInp+nGDz8YAHrjBAP6wQAdYg+XzgPob4PRMBHon+UKXLLhRRV9YpFq6c0InkJGrYlzu0HkOMNvwt4R8ONodbU24gLQsEFChcEHXeAwGSzGqazJt0epOf3lLps0pZ/zCBtv94bRtGnfZg7N4PjCNx7gScw1NGr0LtVU9Ku0BbJ7SUPTTm7js27zfYPysMrQiUxOFNuDQJ5pF0q/OkaQeIFuUBva3heiV059VpzL7g0dqAUrHDOFjFQxk0wmy5nfswuW05rkw4pI5gqjTSFQk6iyH6fNsTLZ1LZcCwO6Ozbh03wHBKSkvJS6JeTl22GEfYabSEjuEfUzMMyku5MzTqWmW0lTjijYJAikxBjOg0BKvp0+2p8fu7BDjhO6w1czYQnsUYurWOZ1unSUq4iWUr3Miyc5ThGpSz/QDxgIxfXp3HuJmJWmtLVLJWWpJg6M7e4rde1+AHOHXhWhM4coktTZc5xbGc45b/EWftKPlwtFFk8wO1heXM1OZj1WeTZaxpSyn7ifM7Y2fDX5wE+ucR15nyg68zE+uUAD1wggEEBJERbVs8oIIAtq+UFv14wQQAUg3vt1xg8TZLaPV3FTNPUabMq0nsk3aUeKNnQiJggMFN5LsV090uSKWJm32Vy0x2arfxZtu+OuMGY7nPcuS84tO0O1BBSOfvDEQQF3RsjtRdUlVYnmJVra3Le8WepAA8YZ+HcMUrDkuWqZKhClaFvKOc45zV5aoiCAuLet8Fv6wQQBY+tkFoIICQNenmYIIID//2Q=="
                                });
                            }
                            else {
                                IDGChat.renderMessage({
                                    type: "text",
                                    text: HubData.content,
                                    timestamp: new Date()
                                }, {
                                    id: HubData.from,
                                    name: "",
                                    iconUrl: "data:image/jpeg;base64,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"
                                });
                            }
                        }
                    }
                    else if (MsgType === "INTERNALCHATSENDMESSAGE") {
                        if (parseInt(3) > 0) {
                            if (!$('#InternalAgentChatWindow_' + HubData.AgentId).data("kendoChat")) {
                                InternalChatNotification();
                                OpenInternalChatWindow(HubData.AgentId);
                            }
                            else {
                                var chat = $('#InternalAgentChatWindow_' + HubData.AgentId).data("kendoChat");
                                var message = { type: 'text', text: HubData.Message };
                                chat.renderMessage(message, HubData.Sender);
                            }
                        }
                    }
                    else if (MsgType === "INTERNALCHATSTARTTYPING") {
                        if (parseInt(3) > 0 && $('#InternalAgentChatWindow_' + HubData.AgentId).data("kendoChat")) {
                            var chat = $('#InternalAgentChatWindow_' + HubData.AgentId).data("kendoChat");
                            chat.renderMessage({ type: 'typing' }, HubData.Sender);
                        }
                    }
                    else if (MsgType === "INTERNALCHATENDTYPING") {
                        if (parseInt(3) > 0 && $('#InternalAgentChatWindow_' + HubData.AgentId).data("kendoChat")) {
                            var chat = $('#InternalAgentChatWindow_' + HubData.AgentId).data("kendoChat");
                            chat.clearUserTypingIndicator(chat.getUser());
                        }
                    }
                    else if (MsgType === "INTERNALAGENTCHATLISTSYNC") {
                        if (typeof InternalAgentChatListSync === "function") {
                            InternalAgentChatListSync();
                        }
                    }
                    else if (MsgType === "CHATBOT") {
                        if ($("#" + HubData.SessionId).data("kendoChat") !== undefined) {
                            var IDGChat = $("#" + HubData.SessionId).data("kendoChat");
                            if (HubData.Type === "MESSAGE") {
                                var message = { type: 'text', text: HubData.Message };
                                IDGChat.renderMessage(message, HubData.Sender);

                                if (document.hidden||!$("#divagentcontent").is(":visible") || $('.CallFocusClass [data-role="chat"].k-chat').attr('id') !== HubData.SessionId) {
                                    notificationMethod(HubData.Sender.name + ":  " + message.text, 4);

                                    if (Push.Permission.has()) {
									    Push.create(HubData.Sender.name, {
										    body: message.text,
										    icon: '',
										    timeout: 15000,
										    silent:false,
										    onClick: function () {
											    window.focus();
											    this.close();
										    }
									    });

								    }

                                }

                            }
                            else if (HubData.Type === "TYPING") {
                                IDGChat.renderMessage({ type: 'typing' }, HubData.Sender);
                            }
                            else if (HubData.Type === "ENDTYPING") {
                                IDGChat.clearUserTypingIndicator(IDGChat.getUser());
                            }
                            else if (HubData.Type === "CUSTOMTEMPLATE") {
                                IDGChat.renderAttachments({
                                    attachments: [{
                                        contentType: "chatcallquote",
                                        content: JSON.parse(HubData.Message)
                                    }]
                                }, HubData.Sender);
                            }
                            else if (HubData.Type === "ENDCHATBYCUSTOMER") {
                                IDGChat.messageBox.destroy();
                                $("#title" + HubData.SessionId).text('Offline');
                                $("#panel" + HubData.SessionId).attr("class", "card bg-danger");
                                $(".SwitchVideoCall").children().prop('disabled', true);
                                if ($("#autoCompleteTool" + HubData.SessionId).data("kendoDropDownList") !== undefined) {
                                    $("#autoCompleteTool" + HubData.SessionId).data("kendoDropDownList").wrapper.hide();
                                }
                            }
                        }
                    }
                    else if (MsgType === "AUTOLOGOUTNOTIFICATION") {
                        if (HubData.Type === "LOGOUTUSER" && parseInt(HubData.SessionId) === parseInt('11990')) {
                            window.location.reload();
                        }
                        else if (HubData.Type === "PROMPTMESSAGE" && parseInt(HubData.SessionId) === parseInt('11990')) {
                            var sessiontimeoutdialog = $("#sessiontimeoutdialog_11990");
                            if (sessiontimeoutdialog.data("kendoDialog")) {
                                return;
                            }
                            var sessiontimeoutdialog = $("<div id='sessiontimeoutdialog_11990'/>").kendoDialog({
                                width: "450px",
                                title: "Alert",
                                closable: false,
                                modal: true,
                                buttonLayout: "normal",
                                content: "Dear Teckinfo Default,<br/><br/><p>Your session will logout soon. Click continue to resume session.<p>",
                                actions: [
                                    {
                                        text: 'Continue', primary: true, action: function () {
                                            $.ajax({
                                                headers: { RequestVerificationToken: appdata.tk },
                                                type: "GET",
                                                url: "/WebAgent/GetUserName"
                                            }).done(function (data) {
                                                //
                                            }).fail(function (data, textStatus, errorThrown) {
                                                notificationMethod("[layout.cshtml/GetUserName()] => " + '[ERROR]: ' + errorThrown + JSON.stringify(data), undefined, false);
                                            });
                                        }
                                    },
                                    {
                                        text: '<a href="/SignOut" class="signout">Sign Out</a>'
                                    }
                                ],
                                close: function () {
                                    $("#sessiontimeoutdialog_11990").data("kendoDialog").destroy();
                                }
                            }).data("kendoDialog");
                            sessiontimeoutdialog.open();
                        }
                    }
                }
                catch (err) {
                    notificationMethod("[ERROR] WebConsoleHub : " + err, undefined, false);
                }
            };
            WebConsoleHubStart();

            var strurl = window.location.href;
            notificationMethod('layout strurl    ' + strurl, undefined, false);
            if (strurl.toLowerCase().includes("https://") === true && appdata.rootUrl.toLowerCase().includes("http://") === true) {
                notificationMethod("found", undefined, false);
                var rootURL = appdata.rootUrl.toLowerCase().replace("http://", "https://");
                appdata.rootUrl = rootURL;
            }

        });
        SupervisorTerminalId = getCookie("supervisorterminal");
        function CloseSessionTimeoutDialog() {
            var sessiontimeoutdialog = $("#sessiontimeoutdialog_11990");
            if (sessiontimeoutdialog.data("kendoDialog")) {
                sessiontimeoutdialog.data("kendoDialog").close();
                sessiontimeoutdialog.data("kendoDialog").destroy();
            }
        }
    </script>
    <style>
        .k-grid td, k-grid-content-locked td {
            white-space: nowrap;
        }

        .k-grid td, k-grid-content td {
            white-space: nowrap;
        }
    </style>
    <script id="templatedynamicgrid" type="text/x-kendo-template">
        <pre>#:Text#</pre>
    </script>
</body>
</html>
